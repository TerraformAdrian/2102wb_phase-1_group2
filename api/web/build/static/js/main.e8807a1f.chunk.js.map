{"version":3,"sources":["reportWebVitals.js","global/constants.js","hooks/use-current-user.hook.js","flow/script.get-account-items.js","hooks/use-account-items.hook.js","hooks/use-ipfs-items.hook.js","flow/sc.get-edition-list.js","hooks/use-edition-list.hook.js","flow/sc.get-series-list.js","hooks/use-series-list.hook.js","flow/sc.get-set-all.js","hooks/use-set-all.hook.js","flow/sc.get-set-item.js","hooks/use-set-item.hook.js","flow/util/batch.js","flow/script.get-account-item.js","flow/util/tx.js","flow/tx.create-sale-offer.js","hooks/use-account-item.hook.js","comps/account-item.js","comps/account-items.js","pages/mint/side_bar.js","pages/mint/mintnft2.js","flow/script.is-account-initialized.js","flow/tx.initialize-account.js","hooks/use-initialized.hook.js","pages/publish.page.js","pages/list.page.js","flow/sc.get-market-items.js","hooks/use-market-items.hook.js","flow/sc.get-market-item.js","flow/tx.buy-market-item.js","hooks/use-market-item.hook.js","comps/market-item.js","comps/market-items.js","pages/market.page.js","pages/mint/assets.js","pages/mint/mintnft.js","pages/mint/collections.js","pages/storefront/series.js","flow/sc.get-series-item.js","hooks/use-series-item.hook.js","flow/sc.get-set-list.js","pages/storefront/edition.js","hooks/use-set-list.hook.js","flow/sc.get-edition-item.js","flow/tx.purchase-handy-item.js","flow/tx.initialize-my-account.js","pages/storefront/initacc.js","pages/navbar.js","pages/storefront/purchase.js","hooks/use-edition-item.hook.js","pages/storefront/mywallet.js","pages/not-found.page.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","IDLE","PROCESSING","currentUser","atom","key","default","addr","loggedIn","cid","tools","logIn","fcl","logOut","signUp","changeUser","useCurrentUser","useRecoilState","user","setUser","useEffect","subscribe","CODE","fetchAccountItems","address","Promise","resolve","Address","d","sort","a","b","$state","atomFamily","selectorFamily","get","$status","useAccountItems","items","setItems","status","setStatus","console","log","ids","mint","recipient","name","imageUrl","color","info","quantity","fetch","process","method","headers","body","JSON","stringify","tokenURI","refresh","useIpfsItems","useState","axios","assetList","data","success","result","assets","cdc","getEditionList","series","send","script","args","arg","Number","UInt32","decode","useEditionList","bReload","prop","editions","useSeriesList","isDirty","state","setState","useSetAllList","sets","getSetItem","useSetItem","id","item","setItem","set","reload","callback","SET_CALLBACK","PROCESS","MAYBE_PROCESS","TIMEOUT","ENQUEUE","RESOLVE","HANDLERS","INIT","ctx","put","Set","setInterval","sendSelf","letter","uid","hold","reply","update","n","add","h","size","need","p","reduce","acc","_","results","have","Object","keys","delete","collate","px","push","addresses","t","map","spawn","enqueue","expectReply","timeout","fetchAccountItem","noop","tx","mods","opts","onStart","onSubmission","onUpdate","onSuccess","onError","onComplete","txId","fvsTx","unsub","onceSealed","txStatus","error","env","createSaleOffer","itemID","price","Error","String","expand","split","useAccountItem","cu","accountItems","join","comp","owned","sansPrefix","sell","AccountItemCluster","className","onClick","WrappedAccountItemCluster","props","fallback","AccountItemsCluster","length","WrappedAccountItemsCluster","SideBar","href","Item","meta","src","image","WrappedItem","MintNFT","inName","inAsset","inQuantity","inSerial","inSeries","inPrice","inEdition","handleChange","e","target","value","createSet","params","style","paddingLeft","onChange","inThumb","index","inDescription","res","seriesList","editionList","preventDefault","desc","thumb","img_url","isSerial","edition","setList","Page","isAccountInitialized","initializeAccount","invariant","transaction","limit","proposer","authz","payer","authorizations","$init","$computedInit","all","FUSD","HandyItems","HandyItemsMarket","useInitialized","init","setInit","isInitialized","useRecoilValue","recheck","initialize","isSpecificInitialized","txtAddress","txtName","txtImageURL","txtColor","txtInfo","txtQuantity","history","useHistory","handleSubmit","alert","htmlFor","disabled","setAddress","count","setCount","getMarketItems","$marketItemsState","$marketItemsStatus","UInt64","buyMarketItem","ownerAddress","useMarketItem","getMarketItem","buy","MarketItemCluster","WrappedMarketItemCluster","MarketItemsCluster","useMarketItems","WrappedMarketItemsCluster","Assets","inFile","asList","setDirty","listingStatus","setListingStatus","uploadStatus","setUploadStatus","inputFile","useRef","handleUpload","pinFileToIPFS","path","obj","current","pinataApiKey","pinataSecretApiKey","imgData","FormData","append","files","metadata","keyvalues","pinataOptions","cidVersion","customPinPolicy","regions","desiredReplicationCount","post","maxBodyLength","_boundary","pinata_api_key","pinata_secret_api_key","response","IpfsHash","toast","catch","type","ref","height","width","SeriesCluster","paddingRight","upSeriesStatus","setSeriesStatus","upEditionStatus","setEditionStatus","handleCreateSeries","inSeriesName","inSeriesImg","handleCreateEdition","inEditionName","inEditionSeries","inEditionImg","class","getSeriesList","getCurrentSeries","margin","getList","getSeriesItem","useSeriesItem","getSetList","useParams","useSetList","getEditionItem","DELETE_COLLECTION","CREATE_COLLECTION","Init","float","seriesID","useEditionItem","editionID","buyingState","setBuyingState","numberMinted","setID","purchaseHandyItem","WrappedPage","serialID","controls","window","val","staticType","ReactDOM","render","StrictMode","exact","position","delay","document","getElementById"],"mappings":"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","file":"static/js/main.e8807a1f.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const LOADING = \"LOADING\"\r\n\r\n// Exposed states of a Flow Transaction\r\nexport const IDLE = \"IDLE\"\r\nexport const PROCESSING = \"PROCESSING\"\r\nexport const SUCCESS = \"SUCCESS\"\r\nexport const ERROR = \"ERROR\"\r\n\r\n// How long to pause on a success or error message\r\n// before transitioning back to an IDLE state.\r\nexport const IDLE_DELAY = 1000\r\n","import {useEffect} from \"react\"\r\nimport {atom, useRecoilState} from \"recoil\"\r\nimport * as fcl from \"@onflow/fcl\"\r\n\r\nexport const currentUser = atom({\r\n  key: \"CURRENT_USER\",\r\n  default: {addr: null, loggedIn: null, cid: null},\r\n})\r\n\r\nconst tools = {\r\n  logIn: fcl.logIn,\r\n  logOut: fcl.unauthenticate,\r\n  signUp: fcl.signUp,\r\n  changeUser: fcl.reauthenticate,\r\n}\r\n\r\nexport function useCurrentUser() {\r\n  const [user, setUser] = useRecoilState(currentUser)\r\n  useEffect(() => fcl.currentUser().subscribe(setUser), [setUser])\r\n  return [user, user.addr != null, tools]\r\n}\r\n","import * as fcl from \"@onflow/fcl\"\r\nimport {Address} from \"@onflow/types\"\r\n\r\nconst CODE = fcl.cdc`\r\nimport NonFungibleToken from 0xNonFungibleToken\r\nimport HandyItems from 0xHandyItems\r\n\r\n  pub fun main(address: Address): [UInt64] {\r\n    if let collection =  getAccount(address).getCapability<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath).borrow() {\r\n      return collection.getIDs()\r\n    }\r\n\r\n    return []\r\n  }\r\n`\r\n\r\nexport function fetchAccountItems(address) {\r\n  if (address == null) return Promise.resolve([])\r\n\r\n  // prettier-ignore\r\n  return fcl.send([\r\n    fcl.script(CODE),\r\n    fcl.args([\r\n      fcl.arg(address, Address)\r\n    ]),\r\n  ]).then(fcl.decode).then(d => d.sort((a, b) => a - b))\r\n}\r\n","import {atomFamily, selectorFamily, useRecoilState} from \"recoil\"\r\nimport {fetchAccountItems} from \"../flow/script.get-account-items\"\r\nimport {IDLE, PROCESSING} from \"../global/constants\"\r\n\r\nexport const $state = atomFamily({\r\n  key: \"account-items::state\",\r\n  default: selectorFamily({\r\n    key: \"account-items::default\",\r\n    get: address => async () => {\r\n      return fetchAccountItems(address)},\r\n  }),\r\n})\r\n\r\nexport const $status = atomFamily({\r\n  key: \"account-items::status\",\r\n  default: IDLE,\r\n})\r\n\r\nexport function useAccountItems(address) {\r\n  const [items, setItems] = useRecoilState($state(address))\r\n  const [status, setStatus] = useRecoilState($status(address))\r\n\r\n  console.log(\"B\")\r\n  console.log(items)\r\n\r\n  return {\r\n    ids: items,\r\n    status,\r\n\r\n    async mint(recipient, name, \r\n      imageUrl, color, info, quantity) {\r\n      setStatus(PROCESSING)\r\n      await fetch(process.env.REACT_APP_API_ITEM_MINT, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          recipient: recipient,\r\n          name: name,\r\n          tokenURI: imageUrl,\r\n          color: color,\r\n          info: info,\r\n          quantity: quantity,\r\n        }),\r\n      })\r\n      await fetchAccountItems(recipient).then(setItems)\r\n      setStatus(IDLE)\r\n    },\r\n    async refresh() {\r\n      setStatus(PROCESSING)\r\n      await fetchAccountItems(address).then(setItems)\r\n      setStatus(IDLE)\r\n    },\r\n  }\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport function useIpfsItems() {\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    const assetList = await axios.get(process.env.REACT_APP_API_URL + \"/v1/assets/list\");\r\n    if (assetList.data.success != \"true\") return;\r\n\r\n    setItems(assetList.data.result);\r\n  }, []);\r\n\r\n  return {\r\n    assets: items\r\n  }\r\n}","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address, UInt32} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\nimport HandyItems from 0xHandyItems\r\n\r\npub fun main(series: UInt32): {UInt32: HandyItems.QueryEditionData} {\r\n  return HandyItems.getEditions(series: series)\r\n}\r\n`\r\n\r\nexport function getEditionList(series) {\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args([arg(Number(series), UInt32)])\r\n  ]).then(decode)\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { getEditionList } from \"../flow/sc.get-edition-list\";\r\n\r\nexport function useEditionList(series, bReload) {\r\n  const [items, setItems] = useState({});\r\n\r\n  useEffect(async () => {\r\n    if (series === \"\") {\r\n      console.log(\"Empty\");\r\n      setItems({});\r\n      return;\r\n    }\r\n\r\n    const editions = await getEditionList(series);\r\n\r\n    console.log(editions);\r\n\r\n    for (const prop in editions)\r\n      console.log(editions[prop]);\r\n\r\n    setItems(editions);\r\n  }, [series]);\r\n\r\n  return {\r\n    editions: items\r\n  }\r\n}","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\nimport HandyItems from 0xHandyItems\r\n\r\npub fun main(): {UInt32: HandyItems.QuerySeriesData} {\r\n  return HandyItems.getSeries()\r\n}\r\n`\r\n\r\nexport function getSeriesList() {\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args()\r\n  ]).then(decode)\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { getSeriesList } from \"../flow/sc.get-series-list\";\r\n\r\nexport function useSeriesList(isDirty) {\r\n  const [items, setItems] = useState({});\r\n  const [state, setState] = useState(true);\r\n\r\n  console.log(\"2. Use Series List\");\r\n  console.log(isDirty);\r\n\r\n  useEffect(async () => {\r\n    if (state != true && isDirty != true)\r\n      return;\r\n\r\n    const series = await getSeriesList();\r\n\r\n    console.log(series);\r\n\r\n    for (const prop in series)\r\n      console.log(series[prop]);\r\n\r\n    setState(false);\r\n    setItems(series);\r\n  }, [state, isDirty]);\r\n\r\n  return {\r\n    series: items\r\n  }\r\n}","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address, UInt32} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\nimport HandyItems from 0xHandyItems\r\n\r\npub struct NftItem {\r\n  pub let series: HandyItems.QuerySeriesData\r\n  pub let edition: HandyItems.QueryEditionData\r\n  pub let set: HandyItems.QuerySetData\r\n\r\n  init(series: HandyItems.QuerySeriesData, edition: HandyItems.QueryEditionData, \r\n    set: HandyItems.QuerySetData) {\r\n\r\n    self.series = series\r\n    self.edition = edition\r\n    self.set = set\r\n  }\r\n}\r\n\r\npub fun main(): {UInt32: NftItem?} {\r\n  let sets = HandyItems.getAllSets()\r\n  let r: {UInt32: NftItem?} = {}\r\n\r\n  for key in sets.keys {\r\n    let set = sets[key]!\r\n\r\n    let series = HandyItems.getSeriesData(series: set!.seriesID)\r\n    let edition = HandyItems.getEditionData(id: set!.editionID)\r\n\r\n    r[key] = NftItem(series: series!, edition: edition!, set: set!);\r\n  }\r\n  return r\r\n}\r\n`\r\n\r\nexport function getSetAllList() {\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args()\r\n  ]).then(decode)\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { getSetAllList } from \"../flow/sc.get-set-all\";\r\n\r\nexport function useSetAllList() {\r\n  const [items, setItems] = useState({});\r\n  // const [items, setItems] = useState({});\r\n\r\n  useEffect(async () => {\r\n    return;\r\n    const sets = await getSetAllList()\r\n\r\n    console.log(sets);\r\n\r\n    for (const prop in sets)\r\n      console.log(sets[prop]);\r\n\r\n    setItems(sets);\r\n  }, []);\r\n\r\n  return {\r\n    sets: items\r\n  }\r\n}","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address, UInt32} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\nimport HandyItems from 0xHandyItems\r\n\r\npub fun main(id: UInt32): HandyItems.QuerySetData? {\r\n  return HandyItems.getSetData(setID: id)\r\n}\r\n`\r\n\r\nexport function getSetItem(series) {\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args([arg(Number(series), UInt32)])\r\n  ]).then(decode)\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { getSetItem } from \"../flow/sc.get-set-item\";\r\n\r\nexport function useSetItem(id) {\r\n  const [item, setItem] = useState({});\r\n\r\n  async function reload() {\r\n    const set = await getSetItem(id)\r\n\r\n    setItem(set);\r\n  }\r\n\r\n  useEffect(async () => {\r\n    const set = await getSetItem(id)\r\n\r\n    console.log(set);\r\n\r\n    for (const prop in set)\r\n      console.log(set[prop]);\r\n\r\n    setItem(set);\r\n  }, []);\r\n\r\n  return {\r\n    item: item,\r\n    reload: reload\r\n  }\r\n}","// TODO: MOVE TO @onflow/util-batch\r\nimport {spawn, send, INIT} from \"@onflow/util-actor\"\r\nimport {uid} from \"@onflow/util-uid\"\r\n\r\nconst TICK = 500\r\nconst BUFFER_SIZE = 10\r\n\r\nconst SET_CALLBACK = \"SET_CALLBACK\"\r\nconst PROCESS = \"PROCESS\"\r\nconst MAYBE_PROCESS = \"MAYBE_PROCESS\"\r\nconst TIMEOUT = \"TIMEOUT\"\r\nconst ENQUEUE = \"ENQUEUE\"\r\nconst RESOLVE = \"RESOLVE\"\r\n\r\nconst HANDLERS = {\r\n  [INIT]: ctx => {\r\n    ctx.put(\"need\", new Set())\r\n    ctx.put(\"processing\", new Set())\r\n    ctx.put(\"hold\", {})\r\n    setInterval(() => ctx.sendSelf(TIMEOUT), TICK)\r\n  },\r\n\r\n  [SET_CALLBACK]: (ctx, letter, callback) => {\r\n    ctx.put(\"callback\", async (...args) => callback(...args))\r\n    ctx.sendSelf(MAYBE_PROCESS)\r\n  },\r\n\r\n  [ENQUEUE]: (ctx, letter, args) => {\r\n    const id = uid()\r\n    const hold = {id, args, reply: letter.reply}\r\n    ctx.update(\"need\", n => {\r\n      n.add(id)\r\n      return n\r\n    })\r\n    ctx.update(\"hold\", h => ({...h, [id]: hold}))\r\n    ctx.sendSelf(MAYBE_PROCESS)\r\n  },\r\n\r\n  [TIMEOUT]: ctx => {\r\n    if (ctx.get(\"need\").size) ctx.sendSelf(PROCESS)\r\n  },\r\n\r\n  [MAYBE_PROCESS]: ctx => {\r\n    if (ctx.get(\"need\") >= BUFFER_SIZE) ctx.sendSelf(PROCESS)\r\n  },\r\n\r\n  [PROCESS]: ctx => {\r\n    const callback = ctx.get(\"callback\")\r\n    if (typeof callback !== \"function\") return\r\n\r\n    const need = ctx.get(\"need\")\r\n    ctx.update(\"processing\", p => new Set([...p, ...need]))\r\n    ctx.put(\"need\", new Set())\r\n\r\n    const hold = ctx.get(\"hold\")\r\n    const payload = [...need].reduce(\r\n      (acc, key) => ({...acc, [key]: hold[key].args}),\r\n      {}\r\n    )\r\n\r\n    callback(payload).then(result => {\r\n      ctx.sendSelf(RESOLVE, result)\r\n    })\r\n  },\r\n  [RESOLVE]: (ctx, _, results) => {\r\n    const have = Object.keys(results)\r\n    for (let h of have) {\r\n      const hold = ctx.get(\"hold\")\r\n      hold[h].reply(results[h])\r\n      ctx.update(\"processing\", p => {\r\n        p.delete(h)\r\n        return p\r\n      })\r\n      ctx.update(\"hold\", hold => {\r\n        delete hold[h]\r\n        return hold\r\n      })\r\n    }\r\n  },\r\n}\r\n\r\nexport const batch = (name, callback) => {\r\n  spawn(HANDLERS, name)\r\n  send(name, SET_CALLBACK, callback)\r\n\r\n  return {\r\n    enqueue(...args) {\r\n      return send(name, ENQUEUE, args, {expectReply: true, timeout: 0})\r\n    },\r\n  }\r\n}\r\n","import * as fcl from \"@onflow/fcl\"\r\nimport * as t from \"@onflow/types\"\r\nimport {batch} from \"./util/batch\"\r\n\r\nconst CODE = fcl.cdc`\r\nimport NonFungibleToken from 0xNonFungibleToken\r\nimport HandyItems from 0xHandyItems\r\n\r\npub struct AccountItem {\r\n  pub let itemID: UInt64\r\n  pub let setID: UInt32\r\n  pub let serialID: UInt32\r\n  pub let owner: Address\r\n\r\n  init(itemID: UInt64, setID: UInt32, serialID: UInt32, owner: Address) {\r\n    self.itemID = itemID\r\n    self.setID = setID\r\n    self.serialID = serialID\r\n    self.owner = owner\r\n  }\r\n}\r\n\r\npub struct NftItem {\r\n  pub let series: HandyItems.QuerySeriesData\r\n  pub let edition: HandyItems.QueryEditionData\r\n  pub let set: HandyItems.QuerySetData\r\n  pub let item: AccountItem\r\n\r\n  init(series: HandyItems.QuerySeriesData, edition: HandyItems.QueryEditionData, \r\n    set: HandyItems.QuerySetData, item: AccountItem) {\r\n\r\n    self.series = series\r\n    self.edition = edition\r\n    self.set = set\r\n    self.item = item\r\n  }\r\n}\r\n\r\npub fun fetch(address: Address, id: UInt64): AccountItem? {\r\n  if let col = getAccount(address).getCapability<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath).borrow() {\r\n    if let item = col.borrowHandyItem(id: id) {\r\n      return AccountItem(itemID: id, setID: item.setID, serialID: item.serialID, owner: address)\r\n    }\r\n  }\r\n\r\n  return nil\r\n}\r\n\r\npub fun main(keys: [String], addresses: [Address], ids: [UInt64]): {String: NftItem?} {\r\n  let r: {String: NftItem?} = {}\r\n  var i = 0\r\n\r\n  while i < keys.length {\r\n    let key = keys[i]\r\n    let address = addresses[i]\r\n    let id = ids[i]\r\n\r\n    let rkey = fetch(address: address, id: id)\r\n    let set = HandyItems.getSetData(setID: rkey!.setID)\r\n    let series = HandyItems.getSeriesData(series: set!.seriesID)\r\n    let edition = HandyItems.getEditionData(id: set!.editionID)\r\n\r\n    r[key] = NftItem(series: series!, edition: edition!, set: set!, item: rkey!);\r\n    i = i + 1\r\n  }\r\n  return r\r\n}\r\n`\r\n\r\nconst collate = px => {\r\n  return Object.keys(px).reduce(\r\n    (acc, key) => {\r\n      acc.keys.push(key)\r\n      acc.addresses.push(px[key][0])\r\n      acc.ids.push(px[key][1])\r\n      return acc\r\n    },\r\n    {keys: [], addresses: [], ids: []}\r\n  )\r\n}\r\n\r\nconst {enqueue} = batch(\"FETCH_ACCOUNT_ITEM\", async px => {\r\n  const {keys, addresses, ids} = collate(px)\r\n\r\n  return fcl\r\n    .send([\r\n      fcl.script(CODE),\r\n      fcl.args([\r\n        fcl.arg(keys, t.Array(t.String)),\r\n        fcl.arg(addresses, t.Array(t.Address)),\r\n        fcl.arg(ids.map(Number), t.Array(t.UInt64)),\r\n      ]),\r\n    ])\r\n    .then(fcl.decode)\r\n})\r\n\r\nexport async function fetchAccountItem(address, id) {\r\n  if (address == null || address === \"\") return Promise.resolve(null)\r\n  if (id == null) return Promise.resolve(null)\r\n  return enqueue(address, id)\r\n}\r\n","import * as fcl from \"@onflow/fcl\"\r\n\r\nconst noop = async () => {}\r\n\r\nexport async function tx(mods = [], opts = {}) {\r\n  const onStart = opts.onStart || noop\r\n  const onSubmission = opts.onSubmission || noop\r\n  const onUpdate = opts.onUpdate || noop\r\n  const onSuccess = opts.onSuccess || noop\r\n  const onError = opts.onError || noop\r\n  const onComplete = opts.onComplete || noop\r\n\r\n  try {\r\n    onStart()\r\n    var txId = await fcl.send(mods).then(fcl.decode)\r\n    console.info(\r\n      `%cTX[${txId}]: ${fvsTx(await fcl.config().get(\"env\"), txId)}`,\r\n      \"color:purple;font-weight:bold;font-family:monospace;\"\r\n    )\r\n    onSubmission(txId)\r\n    var unsub = await fcl.tx(txId).subscribe(onUpdate)\r\n    var txStatus = await fcl.tx(txId).onceSealed()\r\n    unsub()\r\n    console.info(\r\n      `%cTX[${txId}]: ${fvsTx(await fcl.config().get(\"env\"), txId)}`,\r\n      \"color:green;font-weight:bold;font-family:monospace;\"\r\n    )\r\n    await onSuccess(txStatus)\r\n    return txStatus\r\n  } catch (error) {\r\n    console.error(\r\n      `TX[${txId}]: ${fvsTx(await fcl.config().get(\"env\"), txId)}`,\r\n      error\r\n    )\r\n    onError(error)\r\n  } finally {\r\n    await onComplete()\r\n  }\r\n}\r\n\r\nfunction fvsTx(env, txId) {\r\n  return `https://flow-view-source.com/${env}/tx/${txId}`\r\n}\r\n","import * as fcl from \"@onflow/fcl\"\r\nimport * as t from \"@onflow/types\"\r\nimport {tx} from \"./util/tx\"\r\n\r\nconst CODE = fcl.cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import FlowToken from 0xFlowToken \r\n  import HandyItems from 0xHandyItems\r\n  import NFTStorefront from 0xNFTStorefront\r\n\r\n  transaction(saleItemID: UInt64, saleItemPrice: UFix64) {\r\n\r\n    let flowReceiver: Capability<&FlowToken.Vault{FungibleToken.Receiver}>\r\n    let handyItemsCollection: Capability<&HandyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>\r\n    let storefront: &NFTStorefront.Storefront\r\n\r\n    prepare(account: AuthAccount) {\r\n      // We need a provider capability, but one is not provided by default so we create one if needed.\r\n      let handyItemsCollectionProviderPrivatePath = /private/handyItemsCollectionProvider\r\n\r\n      self.flowReceiver = account.getCapability<&FlowToken.Vault{FungibleToken.Receiver}>(/public/flowTokenReceiver)!\r\n\r\n      assert(self.flowReceiver.borrow() != nil, message: \"Missing or mis-typed FlowToken receiver\")\r\n\r\n      if !account.getCapability<&HandyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>(handyItemsCollectionProviderPrivatePath)!.check() {\r\n        account.link<&HandyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>(handyItemsCollectionProviderPrivatePath, target: HandyItems.CollectionStoragePath)\r\n      }\r\n\r\n      self.handyItemsCollection = account.getCapability<&HandyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>(handyItemsCollectionProviderPrivatePath)!\r\n      assert(self.handyItemsCollection.borrow() != nil, message: \"Missing or mis-typed HandyItemsCollection provider\")\r\n      \r\n      self.storefront = account.borrow<&NFTStorefront.Storefront>(from: NFTStorefront.StorefrontStoragePath)\r\n        ?? panic(\"Missing or mis-typed NFTStorefront Storefront\")\r\n    }\r\n\r\n    execute {\r\n      let saleCut = NFTStorefront.SaleCut(\r\n        receiver: self.flowReceiver,\r\n        amount: saleItemPrice\r\n      )\r\n\r\n      self.storefront.createSaleOffer(\r\n        nftProviderCapability: self.handyItemsCollection,\r\n        nftType: Type<@HandyItems.NFT>(),\r\n        nftID: saleItemID,\r\n        salePaymentVaultType: Type<@FlowToken.Vault>(),\r\n        saleCuts: [saleCut]\r\n      )\r\n    }\r\n  }\r\n\r\n`\r\n\r\nexport function createSaleOffer({itemID, price}, opts = {}) {\r\n  if (itemID == null)\r\n    throw new Error(\"createSaleOffer(itemID, price) -- itemID required\")\r\n  if (price == null)\r\n    throw new Error(\"createSaleOffer(itemID, price) -- price required\")\r\n\r\n  // prettier-ignore\r\n  return tx([\r\n    fcl.transaction(CODE),\r\n    fcl.args([\r\n      fcl.arg(Number(itemID), t.UInt64),\r\n      fcl.arg(String(price), t.UFix64),\r\n    ]),\r\n    fcl.proposer(fcl.authz),\r\n    fcl.payer(fcl.authz),\r\n    fcl.authorizations([\r\n      fcl.authz\r\n    ]),\r\n    fcl.limit(1000)\r\n  ], opts)\r\n}\r\n","import {sansPrefix} from \"@onflow/fcl\"\r\nimport {atomFamily, selectorFamily, useRecoilState} from \"recoil\"\r\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\r\nimport {fetchAccountItem} from \"../flow/script.get-account-item\"\r\nimport {createSaleOffer} from \"../flow/tx.create-sale-offer\"\r\nimport {IDLE, PROCESSING} from \"../global/constants\"\r\nimport {useAccountItems} from \"../hooks/use-account-items.hook\"\r\n\r\nfunction expand(key) {\r\n  return key.split(\"|\")\r\n}\r\n\r\nfunction comp(address, id) {\r\n  return [address, id].join(\"|\")\r\n}\r\n\r\nexport const $state = atomFamily({\r\n  key: \"account-item::state\",\r\n  default: selectorFamily({\r\n    key: \"account-item::default\",\r\n    get: key => async () => fetchAccountItem(...expand(key)),\r\n  }),\r\n})\r\n\r\nexport const $status = atomFamily({\r\n  key: \"account-item::status\",\r\n  default: IDLE,\r\n})\r\n\r\nexport function useAccountItem(address, id) {\r\n  const [cu] = useCurrentUser()\r\n  const accountItems = useAccountItems(address)\r\n  const key = comp(address, id)\r\n  const [item, setItem] = useRecoilState($state(key))\r\n  const [status, setStatus] = useRecoilState($status(key))\r\n\r\n  return {\r\n    ...item,\r\n    status,\r\n    owned: sansPrefix(cu.addr) === sansPrefix(address),\r\n    async refresh() {\r\n      setStatus(PROCESSING)\r\n      await fetchAccountItem(...expand(key)).then(setItem)\r\n      setStatus(IDLE)\r\n    },\r\n    async sell(price) {\r\n      await createSaleOffer(\r\n        {itemID: id, price: price},\r\n        {\r\n          onStart() {\r\n            setStatus(PROCESSING)\r\n          },\r\n          async onSuccess() {\r\n            accountItems.refresh()\r\n          },\r\n          async onComplete() {\r\n            setStatus(IDLE)\r\n          },\r\n          async onError(error) {\r\n            \r\n          },\r\n        }\r\n      )\r\n    },\r\n  }\r\n}\r\n","import React, {useEffect, useState, Suspense} from \"react\"\r\nimport {useAccountItem} from \"../hooks/use-account-item.hook\"\r\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\r\nimport {IDLE} from \"../global/constants\"\r\n\r\nexport function AccountItemCluster({address, id}) {\r\n  const item = useAccountItem(address, id)\r\n\r\n  const BUSY = item.status !== IDLE\r\n\r\n  if (address == null) return null\r\n  if (id == null) return null\r\n\r\n  return (\r\n    <div className=\"grid-list\">\r\n      <h3>Handy#{item.itemID}</h3>\r\n\r\n      <p>{item.name}</p>\r\n      <p>{item.tokenURI}</p>\r\n      <p>{item.color}</p>\r\n      <p>{item.info}</p>\r\n      <button \r\n        onClick={() => item.sell(\"5.0\")}\r\n      >\r\n        Sell\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function WrappedAccountItemCluster(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <AccountItemCluster {...props} />\r\n    </Suspense>\r\n  )\r\n}\r\n","import {Suspense} from \"react\"\r\nimport {useAccountItems} from \"../hooks/use-account-items.hook\"\r\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\r\nimport Item from \"./account-item\"\r\n\r\nexport function AccountItemsCluster({address}) {\r\n  const items = useAccountItems(address)\r\n  const [cu] = useCurrentUser()\r\n\r\n  if (address == null) return null\r\n\r\n  if (items.ids.length <= 0)\r\n    return (\r\n      <p>No Items</p>\r\n    )\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"grid-list\">\r\n        <h2>ID</h2>\r\n        <h2>Name</h2>\r\n        <h2>Image URL</h2>\r\n        <h2>Color</h2>\r\n        <h2>Info</h2>\r\n      </div>\r\n      {items.ids.map(id => (\r\n        <Item key={id} id={id} address={address} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function WrappedAccountItemsCluster({address}) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <AccountItemsCluster address={address} />\r\n    </Suspense>\r\n  )\r\n}\r\n","import React from \"react\"\r\n\r\nexport function SideBar() {\r\n\r\n  return (\r\n    <div className=\"f3-left\">\r\n      <h2>Mint Panel</h2>\r\n      <ul>\r\n        <li>\r\n          <a href=\"/mintpanel/collections\">Series</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"/mintpanel/mintnft\">Mint NFTs</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"/mintpanel/assets\">Assets</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"/mintpanel/settings\">Settings</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}","\r\nimport {useEffect, useRef} from \"react\"\r\nimport {IDLE} from \"../../global/constants\"\r\nimport {useCurrentUser} from \"../../hooks/use-current-user.hook\"\r\nimport {useAccountItems} from \"../../hooks/use-account-items.hook\"\r\nimport { useIpfsItems } from \"../../hooks/use-ipfs-items.hook\"\r\nimport { useEditionList } from \"../../hooks/use-edition-list.hook\"\r\nimport { useSeriesList } from \"../../hooks/use-series-list.hook\"\r\nimport { useSetAllList } from \"../../hooks/use-set-all.hook\"\r\nimport { useSetItem } from \"../../hooks/use-set-item.hook\"\r\nimport {Suspense, useState} from \"react\"\r\nimport {Redirect, useHistory} from \"react-router-dom\"\r\nimport AccountItemsCluster from '../../comps/account-items'\r\n\r\nimport { SideBar } from \"./side_bar\"\r\nimport axios from \"axios\";\r\n\r\nexport const pinFileToIPFS = async (pinataApiKey, pinataSecretApiKey, imgData) => {\r\n  const url = `https://api.pinata.cloud/pinning/pinFileToIPFS`;\r\n  \r\n  console.log(imgData);\r\n\r\n  let data = new FormData();\r\n  data.append('file', imgData.obj.files[0]);\r\n  \r\n  const metadata = JSON.stringify({\r\n      name: imgData.name,\r\n      keyvalues: {\r\n        name: imgData.name\r\n      }\r\n  });\r\n  data.append('pinataMetadata', metadata);\r\n  \r\n  const pinataOptions = JSON.stringify({\r\n      cidVersion: 0,\r\n      customPinPolicy: {\r\n          regions: [\r\n              {\r\n                  id: 'FRA1',\r\n                  desiredReplicationCount: 1\r\n              },\r\n              {\r\n                  id: 'NYC1',\r\n                  desiredReplicationCount: 2\r\n              }\r\n          ]\r\n      }\r\n  });\r\n  data.append('pinataOptions', pinataOptions);\r\n\r\n  return axios\r\n      .post(url, data, {\r\n          maxBodyLength: 'Infinity',\r\n          headers: {\r\n              'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n              pinata_api_key: pinataApiKey,\r\n              pinata_secret_api_key: pinataSecretApiKey\r\n          }\r\n      })\r\n      .then(function (response) {\r\n          axios.post(process.env.REACT_APP_API_URL + \"/v1/assets/upload\", {\r\n            name: imgData.name,\r\n            path: \"https://cloudflare-ipfs.com/ipfs/\" + response.data.IpfsHash\r\n          })\r\n      })\r\n      .catch(function (error) {\r\n          //handle error here\r\n      });\r\n};\r\n\r\nexport function Item({meta}) {\r\n  const item = useSetItem(meta[\"id\"]);\r\n\r\n  console.log(meta[\"id\"]);\r\n  console.log(item);\r\n\r\n  return (\r\n    <div className=\"f3-store-series-item\">\r\n      <img src={meta.image} /> <br />\r\n      <a href={\"/editions/\" + meta.id}>{meta.name} Edition</a>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport function WrappedItem(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Item {...props} />\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nexport function SeriesCluster({meta, reload}) {\r\n  console.log(typeof meta.id);\r\n  const { editions } = useEditionList(meta.id, reload);\r\n\r\n  const getEditionList = () => {\r\n    var res = [];\r\n\r\n    for (const prop in editions) {\r\n      res.push(\r\n        <Item meta={editions[prop]} />\r\n      )\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div className=\"f3-collections-body\">\r\n      <div>\r\n        <div className=\"f3-center\" style={{paddingRight: \"20px\"}}>\r\n          { meta.name }\r\n          <img src={meta.image} width=\"100px\" height=\"auto\" />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        Editions&nbsp;\r\n      </div>\r\n      <div>\r\n        { getEditionList() }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function MintNFT() {\r\n  const [state, setState] = useState({\r\n    inName: \"\",\r\n    inAsset: \"\",\r\n    inQuantity: \"0\",  \r\n    inSerial: \"yes\",\r\n    inSeries: \"\",\r\n    inPrice: \"\",\r\n    inEdition: \"-1\"\r\n  })\r\n  const items = useIpfsItems();\r\n  const { series } = useSeriesList(true);\r\n  const { editions } = useEditionList(state.inSeries);\r\n  const { sets } = useSetAllList();\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      ...state, \r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleMint = (e) => {\r\n    e.preventDefault();\r\n/*\r\n    mintItem({\r\n      name: state.inName,\r\n      tokenURI: items.assets[state.inAsset].img_url,\r\n      quantity: state.inQuantity,\r\n      isSerial: state.inSerial,\r\n      collection: state.inSeries,\r\n      price: state.inPrice,\r\n      series: state.inEdition\r\n    })\r\n*/\r\n    createSet({\r\n      name: state.inName,\r\n      desc: state.inDescription,\r\n      thumb: items.assets[state.inThumb].img_url,\r\n      quantity: state.inQuantity,\r\n      isSerial: state.inSerial,\r\n      series: state.inSeries,\r\n      price: state.inPrice,\r\n      edition: state.inEdition\r\n    })\r\n  }\r\n\r\n  const mintItem = async (params) => {\r\n    console.log(params);\r\n\r\n    await fetch(process.env.REACT_APP_API_ITEM_MINT, {\r\n    // await fetch(\"http://localhost:3003/v1/handy-items/mint\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(params),\r\n    })\r\n  }\r\n\r\n  const createSet = async (params) => {\r\n      //await fetch(process.env.REACT_APP_API_URL + \"/v1/handy-items/create-set\", {\r\n      await fetch(\"http://localhost:3003/v1/handy-items/create-set\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(params),\r\n    })\r\n  }\r\n\r\n  const editionList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in editions) {\r\n      res.push(<option key={prop} value={prop}>{editions[prop].name}</option>)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  const seriesList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in series) {\r\n      res.push(<option key={prop} value={prop}>{series[prop].name}</option>)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  const setList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in sets) {\r\n      res.push(<WrappedItem key={prop} meta={sets[prop]} />)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{paddingLeft: \"20px\"}}>\r\n        <div>\r\n          <h3>::Mint NFTs</h3>\r\n        </div>\r\n        <div className=\"f3-panel-layout f3-mintnft-head\">\r\n          {/* First Row: Name and Asset(IPFS) */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Name: </label>\r\n              </div>\r\n              <div>\r\n                <input id=\"inName\" name=\"inName\" value={state.inName} onChange={handleChange} />\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>NFT Thumbnail: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inThumb\" name=\"inThumb\" onChange={handleChange} value={state.inThumb} >\r\n                  <option value=\"\"></option>\r\n                  {\r\n                    items.assets.map((item, index) => (\r\n                      <option key={index} value={index}>{item.name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* First Row: Name and Asset(IPFS) */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Description: </label>\r\n              </div>\r\n              <div>\r\n                <textarea id=\"inDescription\" name=\"inDescription\" value={state.inDescription} onChange={handleChange}>\r\n                  &nbsp;\r\n                </textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>NFT Asset: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inAsset\" name=\"inAsset\" onChange={handleChange} value={state.inAsset} >\r\n                  <option value=\"\"></option>\r\n                  {\r\n                    items.assets.map((item, index) => (\r\n                      <option key={index} value={index}>{item.name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Second Row: Quantity and Serial#'s */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Quantity: </label>\r\n              </div>\r\n              <div>\r\n                <input id=\"inQuantity\" name=\"inQuantity\" value={state.inQuantity} \r\n                       onChange={handleChange} size=\"4\" className=\"f3-center\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Serial #'s: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inSerial\" name=\"inSerial\" value={state.inSerial} onChange={handleChange}>\r\n                  <option value=\"yes\">Yes</option>\r\n                  <option value=\"no\">No</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Third Row: Series and Price */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Series: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inSeries\" name=\"inSeries\" value={state.inSeries} onChange={handleChange}>\r\n                  <option value=\"\"></option>\r\n                  { seriesList() }\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Price(USD): </label>\r\n              </div>\r\n              <div>\r\n                <input id=\"inPrice\" name=\"inPrice\" value={state.inPrice} onChange={handleChange} size=\"8\" /><span>&nbsp;$</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Fourth Row: Edition and Mint Button */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Edition: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inEdition\" name=\"inEdition\" value={state.inEdition} onChange={handleChange}>\r\n                  <option value=\"-1\"></option>\r\n                  { editionList() }\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <button onClick={handleMint}>MINT NFT</button>\r\n              </div>\r\n              <div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div className=\"hline\" />\r\n        <div style={{paddingLeft: \"20px\"}}>\r\n          <div>\r\n            <h3>Current NFTs</h3>\r\n            { setList() }\r\n          </div>\r\n        </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport function Page() {\r\n  return (\r\n    <div>\r\n      <SideBar />\r\n      <div className=\"f3-main\">\r\n        <MintNFT />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import FUSD from 0xFUSD\r\n  import HandyItems from 0xHandyItems\r\n  import NFTStorefront from 0xNFTStorefront\r\n\r\n  pub fun hasFUSD(_ address: Address): Bool {\r\n    let receiver: Bool = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver)\r\n      .check()\r\n\r\n    let balance: Bool = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance)\r\n      .check()\r\n\r\n    return receiver && balance\r\n  }\r\n\r\n  pub fun hasItems(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath)\r\n      .check()\r\n  }\r\n\r\n  pub fun hasStorefront(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath)\r\n      .check()\r\n  }\r\n\r\n  pub fun main(address: Address): {String: Bool} {\r\n    let ret: {String: Bool} = {}\r\n    ret[\"FUSD\"] = hasFUSD(address)\r\n    ret[\"HandyItems\"] = hasItems(address)\r\n    ret[\"HandyItemsMarket\"] = true\r\n    return ret\r\n  }\r\n`\r\n\r\nexport function isAccountInitialized(address) {\r\n  if (address == null || address == \"\")\r\n    return Promise.resolve(false)\r\n\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args([\r\n      arg(address, Address)\r\n    ])\r\n  ]).then(decode)\r\n}\r\n","// prettier-ignore\r\nimport {transaction, limit, proposer, payer, authorizations, authz, cdc} from \"@onflow/fcl\"\r\nimport {invariant} from \"@onflow/util-invariant\"\r\nimport {tx} from \"./util/tx\"\r\n\r\nconst CODE = cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import FUSD from 0xFUSD\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import HandyItems from 0xHandyItems\r\n  import NFTStorefront from 0xNFTStorefront\r\n\r\n  pub fun hasItems(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath)\r\n      .check()\r\n  }\r\n\r\n  pub fun hasFUSD(_ address: Address): Bool {\r\n    let receiver = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver)\r\n      .check()\r\n\r\n    let balance = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance)\r\n      .check()\r\n\r\n    return receiver && balance\r\n  }\r\n\r\n  pub fun hasStorefront(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath)\r\n      .check()\r\n  }\r\n\r\n  transaction {\r\n    prepare(acct: AuthAccount) {\r\n      if !hasFUSD(acct.address) {\r\n        if acct.borrow<&FUSD.Vault>(from: /storage/fusdVault) == nil {\r\n          acct.save(<-FUSD.createEmptyVault(), to: /storage/fusdVault)\r\n        }\r\n        acct.unlink(/public/fusdReceiver)\r\n        acct.unlink(/public/fusdBalance)\r\n        acct.link<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver, target: /storage/fusdVault)\r\n        acct.link<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance, target: /storage/fusdVault)\r\n      }\r\n\r\n      if !hasItems(acct.address) {\r\n        if acct.borrow<&HandyItems.Collection>(from: HandyItems.CollectionStoragePath) == nil {\r\n          acct.save(<-HandyItems.createEmptyCollection(), to: HandyItems.CollectionStoragePath)\r\n        }\r\n        acct.unlink(HandyItems.CollectionPublicPath)\r\n        acct.link<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath, target: HandyItems.CollectionStoragePath)\r\n      }\r\n/*\r\n      if !hasStorefront(acct.address) {\r\n        if acct.borrow<&NFTStorefront.Storefront>(from: NFTStorefront.StorefrontStoragePath) == nil {\r\n          acct.save(<-NFTStorefront.createStorefront(), to: NFTStorefront.StorefrontStoragePath)\r\n        }\r\n        acct.unlink(NFTStorefront.StorefrontPublicPath)\r\n        acct.link<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath, target: NFTStorefront.StorefrontStoragePath)\r\n      } */\r\n    }\r\n  }\r\n`\r\n\r\nexport async function initializeAccount(address, opts = {}) {\r\n  // prettier-ignore\r\n  invariant(address != null, \"Tried to initialize an account but no address was supplied\")\r\n\r\n  return tx(\r\n    [\r\n      transaction(CODE),\r\n      limit(70),\r\n      proposer(authz),\r\n      payer(authz),\r\n      authorizations([authz]),\r\n    ],\r\n    opts\r\n  )\r\n}\r\n","import {\r\n  atomFamily,\r\n  selectorFamily,\r\n  useRecoilState,\r\n  useRecoilValue,\r\n} from \"recoil\"\r\nimport {\r\n  LOADING,\r\n  IDLE,\r\n  PROCESSING,\r\n  SUCCESS,\r\n  ERROR,\r\n  IDLE_DELAY,\r\n} from \"../global/constants\"\r\nimport {isAccountInitialized} from \"../flow/script.is-account-initialized\"\r\nimport {initializeAccount} from \"../flow/tx.initialize-account\"\r\n\r\nexport const $address = atomFamily({\r\n  key: \"init::address\",\r\n  default: null,\r\n})\r\n\r\nexport const $status = atomFamily({\r\n  key: \"init::status\",\r\n  default: IDLE,\r\n})\r\n\r\nexport const $init = atomFamily({\r\n  key: \"init::state\",\r\n  default: selectorFamily({\r\n    key: \"init::default\",\r\n    get: address => () => isAccountInitialized(address),\r\n  }),\r\n})\r\n\r\nexport const $computedInit = selectorFamily({\r\n  key: \"init::computed\",\r\n  get:\r\n    address =>\r\n    async ({get}) => {\r\n      const all = get($init(address))\r\n      return all.FUSD && all.HandyItems && all.HandyItemsMarket\r\n    },\r\n})\r\n\r\nexport function useInitialized(address) {\r\n  // const [address, setAddr] = useRecoilState($address(addr))\r\n  const [init, setInit] = useRecoilState($init(address))\r\n  const isInitialized = useRecoilValue($computedInit(address))\r\n  const [status, setStatus] = useRecoilState($status(address))\r\n\r\n  function recheck() {\r\n    isAccountInitialized(address).then(setInit)\r\n  }\r\n\r\n  return {\r\n    ...init,\r\n    isInitialized,\r\n    status: isInitialized == null ? LOADING : status,\r\n    recheck,\r\n    async initialize(addr) {\r\n      initializeAccount(addr != null ? addr \r\n        : address, {\r\n        onStart() {\r\n          setStatus(PROCESSING)\r\n        },\r\n        async onSuccess() {\r\n          recheck()\r\n          setStatus(SUCCESS)\r\n        },\r\n        onError() {\r\n          setStatus(ERROR)\r\n        },\r\n        async onComplete() {\r\n          setStatus(IDLE)\r\n        },\r\n      })\r\n    },\r\n    async isSpecificInitialized(address) {\r\n      const all = await isAccountInitialized(address)\r\n      console.log(all)\r\n      // setAddr(address)\r\n      return all.FUSD && all.HandyItems && all.HandyItemsMarket\r\n    }\r\n  }\r\n}\r\n","\r\nimport {IDLE} from \"../global/constants\"\r\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\r\nimport {useAccountItems} from \"../hooks/use-account-items.hook\"\r\nimport { useInitialized } from \"../hooks/use-initialized.hook\"\r\nimport {Suspense, useState} from \"react\"\r\nimport {Redirect, useHistory} from \"react-router-dom\"\r\n\r\nimport './publish.css'\r\n\r\nexport function Page() {\r\n  const [state, setState] = useState({\r\n    txtAddress: \"\",\r\n    txtName: \"\",\r\n    txtImageURL: \"\", \r\n    txtColor: \"\",\r\n    txtInfo: \"\",\r\n    txtQuantity: \"\"\r\n  })\r\n  const history = useHistory();\r\n  const [user] = useCurrentUser()\r\n\r\n  // if (user.addr == null) return <Redirect to={\"/\"} />\r\n  const items = useAccountItems(user.addr)\r\n  const init = useInitialized(null)\r\n\r\n  const handleInit = (e) => {\r\n    e.preventDefault();\r\n    init.initialize(state.txtAddress);\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      ...state, \r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleView = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/list\");\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (state.txtAddress.length != 18) {\r\n      alert(\"Enter Address Corretly!\");\r\n      return;\r\n    }\r\n\r\n    if (!await init.isSpecificInitialized(state.txtAddress)) {\r\n      alert(\"Initialize account first!\");\r\n      return;\r\n    }\r\n\r\n    items.mint(\r\n      state.txtAddress, \r\n      state.txtName, \r\n      state.txtImageURL, \r\n      state.txtColor, \r\n      state.txtInfo, \r\n      state.txtQuantity\r\n      )\r\n\r\n      console.log(items.ids.length);\r\n  }\r\n\r\n  const handleMarket = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/market\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid-center\">\r\n      <h1>{user.addr}</h1>\r\n      <h1>Publish a NFT</h1>\r\n      <form>\r\n        <div className=\"grid-container\">\r\n          <label htmlFor=\"txtName\">Name</label> \r\n          <input name=\"txtName\" id=\"txtName\" onChange={handleChange} />\r\n          <label htmlFor=\"txtAddress\">Address</label> \r\n          <input name=\"txtAddress\" id=\"txtAddress\" onChange={handleChange} />\r\n          <label>Image URL</label> \r\n          <input name=\"txtImageURL\" id=\"txtImageURL\" onChange={handleChange} />\r\n          <label>Color</label> \r\n          <input name=\"txtColor\" id=\"txtColor\" onChange={handleChange} />\r\n          <label>Info</label> \r\n          <input name=\"txtInfo\" id=\"txtInfo\" onChange={handleChange} />\r\n          {1 == 0 && <><label>Quantity</label> \r\n          <input name=\"txtQuantity\" id=\"txtQuantity\" onChange={handleChange} />\r\n          </>}\r\n          <label>Series</label> \r\n          <input name=\"txtSeries\" id=\"txtSeries\" onChange={handleChange} />\r\n          <button disabled={user.addr !== state.txtAddress} onClick={handleInit}>\r\n            Initialize\r\n          </button>\r\n          <button disabled={items.status !== IDLE} onClick={handleSubmit}>\r\n            Send\r\n          </button>\r\n          <button onClick={handleView}>View List</button>\r\n          <button onClick={handleMarket}>View Marketplace</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport {IDLE} from \"../global/constants\"\r\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\r\nimport {useAccountItems} from \"../hooks/use-account-items.hook\"\r\nimport {Suspense, useState} from \"react\"\r\nimport {Redirect, useHistory} from \"react-router-dom\"\r\nimport AccountItemsCluster from '../comps/account-items'\r\n\r\nimport './list.css'\r\n\r\nexport function Page() {\r\n  const [state, setState] = useState({\r\n    txtAddress: \"\"\r\n  })\r\n  const [address, setAddress] = useState(\"\");\r\n  const [count, setCount] = useState(0);\r\n  const history = useHistory();\r\n  const [user] = useCurrentUser()\r\n\r\n  // if (user.addr == null) return <Redirect to={\"/\"} />\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n\r\n  const handleList = (e) => {\r\n\r\n    if (state.txtAddress.length != 18) {\r\n      alert(\"Enter Address Corretly!\");\r\n      return;\r\n    }\r\n\r\n    setAddress(state.txtAddress);\r\n    setCount(1 - count);\r\n  }\r\n\r\n  const handleMint = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/publish\");\r\n  }\r\n\r\n  const handleMarket = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/market\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>NFT Listings</h1>\r\n\t    <div>\r\n        <label>Address: </label>\r\n        <input name=\"txtAddress\" id=\"txtAddress\" onChange={handleChange}/>&nbsp;\r\n        <button onClick={handleList}>List NFTs</button>\r\n        &nbsp;<button onClick={handleMint}>Mint an NFT</button>\r\n        &nbsp;<button onClick={handleMarket}>View Marketplace</button>\r\n        {\r\n          address != \"\" && <AccountItemsCluster address={address} />\r\n        }\r\n\t    </div>\r\n    </div>\r\n  )\r\n}\r\n","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\n\r\npub fun main(account: Address): [UInt64] {\r\n    let storefrontRef = getAccount(account)\r\n        .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(\r\n            NFTStorefront.StorefrontPublicPath\r\n        )\r\n        .borrow()\r\n        ?? panic(\"Could not borrow public storefront from address\")\r\n    \r\n    return storefrontRef.getSaleOfferIDs()\r\n}\r\n`\r\n\r\nexport function getMarketItems(address) {\r\n  if (address == null || address == \"\")\r\n    return Promise.resolve([])\r\n\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args([\r\n      arg(address, Address)\r\n    ])\r\n  ]).then(decode).then(d => d.sort((a, b) => a - b))\r\n}","import { useEffect } from \"react\";\r\nimport { atom, useRecoilState } from \"recoil\"\r\nimport { getMarketItems } from \"../flow/sc.get-market-items\";\r\nimport {IDLE, PROCESSING} from \"../global/constants\"\r\n\r\nexport const $marketItemsState = atom({\r\n  key: \"market-items::state\",\r\n  default: [],\r\n})\r\n\r\nexport const $marketItemsStatus = atom({\r\n  key: \"market-items::status\",\r\n  default: IDLE,\r\n})\r\n\r\nexport function useMarketItems(address) {\r\n  const [items, setItems] = useRecoilState($marketItemsState);\r\n  const [status, setStatus] = useRecoilState($marketItemsStatus);\r\n\r\n  useEffect(() => {\r\n    getMarketItems(address).then(setItems);\r\n  }, [address]);\r\n\r\n  return {\r\n    items,\r\n    status,\r\n    refresh() {\r\n      getMarketItems(address).then(setItems);\r\n    }\r\n  }\r\n}","import { send, script, args, arg, decode } from \"@onflow/fcl\"\r\nimport { Address, UInt64 } from \"@onflow/types\"\r\n\r\nexport async function getMarketItem(address, id) {\r\n  return send([\r\n      script`\r\n        import HandyItems from 0xHandyItems\r\n        import NonFungibleToken from 0xNonFungibleToken\r\n        import NFTStorefront from 0xNFTStorefront\r\n\r\n        pub struct SaleItem {\r\n          pub let itemID: UInt64\r\n          pub let name: String\r\n          pub let tokenURI: String\r\n          pub let color: String\r\n          pub let info: String\r\n          pub let owner: Address\r\n          pub let price: UFix64\r\n\r\n          init(itemID: UInt64, name: String, tokenURI: String, color: String,info: String, owner: Address, price: UFix64) {\r\n            self.itemID = itemID\r\n            self.name = name\r\n            self.tokenURI = tokenURI\r\n            self.color = color\r\n            self.info = info\r\n            self.owner = owner\r\n            self.price = price\r\n          }\r\n        }\r\n\r\n        pub fun main(address: Address, saleOfferResourceID: UInt64): SaleItem? {\r\n          let account = getAccount(address)\r\n\r\n          if let storefrontRef = account.getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath).borrow() {\r\n            if let saleOffer = storefrontRef.borrowSaleOffer(saleOfferResourceID: saleOfferResourceID) {\r\n              let details = saleOffer.getDetails()\r\n\r\n              let itemID = details.nftID\r\n              let itemPrice = details.salePrice\r\n\r\n              if let collection = account.getCapability<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath).borrow() {\r\n                if let item = collection.borrowHandyItem(id: itemID) {\r\n                  return SaleItem(itemID: itemID, name: item.name, tokenURI: item.tokenURI, \r\n                    color: item.color, info: item.info, owner: address, price: itemPrice)\r\n                }\r\n              }\r\n            }\r\n          }\r\n            \r\n          return nil\r\n        }\r\n    `,\r\n      args([arg(address, Address), arg(Number(id), UInt64)]),\r\n    ])\r\n    .then(decode)\r\n}\r\n","import * as fcl from \"@onflow/fcl\"\r\nimport * as t from \"@onflow/types\"\r\nimport {tx} from \"./util/tx\"\r\nimport {invariant} from \"@onflow/util-invariant\"\r\n\r\nconst CODE = fcl.cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import FlowToken from 0xFlowToken\r\n  import HandyItems from 0xHandyItems\r\n  import NFTStorefront from 0xNFTStorefront\r\n\r\n  transaction(saleOfferResourceID: UInt64, storefrontAddress: Address) {\r\n\r\n    let paymentVault: @FungibleToken.Vault\r\n    let handyItemsCollection: &HandyItems.Collection{NonFungibleToken.Receiver}\r\n    let storefront: &NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}\r\n    let saleOffer: &NFTStorefront.SaleOffer{NFTStorefront.SaleOfferPublic}\r\n\r\n    prepare(account: AuthAccount) {\r\n      self.storefront = getAccount(storefrontAddress)\r\n        .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(\r\n          NFTStorefront.StorefrontPublicPath\r\n        )!\r\n        .borrow()\r\n        ?? panic(\"Could not borrow Storefront from provided address\")\r\n\r\n      self.saleOffer = self.storefront.borrowSaleOffer(saleOfferResourceID: saleOfferResourceID)\r\n        ?? panic(\"No Offer with that ID in Storefront\")\r\n      \r\n      let price = self.saleOffer.getDetails().salePrice\r\n\r\n      let mainFlowVault = account.borrow<&FlowToken.Vault>(from: /storage/flowTokenVault)\r\n        ?? panic(\"Cannot borrow Kibble vault from account storage\")\r\n      \r\n      self.paymentVault <- mainFlowVault.withdraw(amount: price)\r\n\r\n      self.handyItemsCollection = account.borrow<&HandyItems.Collection{NonFungibleToken.Receiver}>(\r\n        from: HandyItems.CollectionStoragePath\r\n      ) ?? panic(\"Cannot borrow HandyItems collection receiver from account\")\r\n    }\r\n  \r\n    execute {\r\n      let item <- self.saleOffer.accept(\r\n        payment: <-self.paymentVault\r\n      )\r\n\r\n      self.handyItemsCollection.deposit(token: <-item)\r\n\r\n      self.storefront.cleanup(saleOfferResourceID: saleOfferResourceID)\r\n    }\r\n  }\r\n`\r\n\r\n// prettier-ignore\r\nexport function buyMarketItem({itemID, ownerAddress}, opts = {}) {\r\n  invariant(itemID != null, \"buyMarketItem({itemID, ownerAddress}) -- itemID required\")\r\n  invariant(ownerAddress != null, \"buyMarketItem({itemID, ownerAddress}) -- ownerAddress required\")\r\n\r\n  return tx([\r\n    fcl.transaction(CODE),\r\n    fcl.args([\r\n      fcl.arg(Number(itemID), t.UInt64),\r\n      fcl.arg(String(ownerAddress), t.Address),\r\n    ]),\r\n    fcl.proposer(fcl.authz),\r\n    fcl.payer(fcl.authz),\r\n    fcl.authorizations([fcl.authz]),\r\n    fcl.limit(1000),\r\n  ], opts)\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { getMarketItem } from \"../flow/sc.get-market-item\";\r\nimport { buyMarketItem } from \"../flow/tx.buy-market-item\"\r\n\r\nexport function useMarketItem(address, id) {\r\n  const [item, setItem] = useState({});\r\n\r\n  console.log(item.price);\r\n\r\n  useEffect(() => {\r\n      getMarketItem(address, id).then(setItem);\r\n  }, [address, id]);\r\n\r\n  return {\r\n    ...item,\r\n    async buy() {\r\n      await buyMarketItem(\r\n        {itemID: id, ownerAddress: address},\r\n        {\r\n          onStart() {\r\n          },\r\n          async onSuccess() {\r\n          },\r\n          async onComplete() {\r\n          },\r\n          async onError(error) {\r\n          },\r\n        }\r\n      )\r\n    },\r\n  }\r\n}","import {Suspense} from \"react\"\r\nimport {useMarketItem} from \"../hooks/use-market-item.hook\"\r\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\r\nimport {IDLE} from \"../global/constants\"\r\n\r\nexport function MarketItemCluster({address, id}) {\r\n  const [cu, loggedIn] = useCurrentUser()\r\n  const item = useMarketItem(address, id)\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"grid-list\">\r\n        <h3>Handy#{item.itemID}</h3>\r\n\r\n        <p>{item.name}</p>\r\n        <p>{item.tokenURI}</p>\r\n        <p>{item.color}</p>\r\n        <p>{item.info}</p>\r\n        <button \r\n          onClick={() => item.buy()}\r\n        >\r\n          Buy\r\n        </button>\r\n     </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function WrappedMarketItemCluster(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <MarketItemCluster {...props} />\r\n    </Suspense>\r\n  )\r\n}\r\n","import {Suspense} from \"react\"\r\nimport {useMarketItems} from \"../hooks/use-market-items.hook\"\r\nimport Item from './market-item'\r\n\r\nexport function MarketItemsCluster() {\r\n  const {items} = useMarketItems(\"0x048ac6df55e9c6e6\");\r\n\r\n  if (items.length == 0)\r\n    return (\r\n      <p>No items listed for sale</p>\r\n    )\r\n\r\n  return (\r\n    <div>\r\n      <h1>NFT Marketplace</h1>\r\n      <div className=\"grid-list\">\r\n        <h2>ID</h2>\r\n        <h2>Name</h2>\r\n        <h2>Image URL</h2>\r\n        <h2>Color</h2>\r\n        <h2>Info</h2>\r\n      </div>\r\n      {items.map(item => \r\n          <Item\r\n            key={item}\r\n            id={item}\r\n            address={\"0x048ac6df55e9c6e6\"}\r\n          />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function WrappedMarketItemsCluster() {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <MarketItemsCluster />\r\n    </Suspense>\r\n  )\r\n}","\r\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\r\nimport {Suspense, useState} from \"react\"\r\nimport {Redirect, useHistory} from \"react-router-dom\"\r\nimport MarketItems from \"../comps/market-items\"\r\n\r\nexport function Page() {\r\n  const history = useHistory();\r\n  const [user] = useCurrentUser()\r\n\r\n  // if (user.addr == null) return <Redirect to={\"/\"} />\r\n\r\n  return (\r\n    <div>\r\n      <h1>\r\n        {user.addr}\r\n      </h1>\r\n      <MarketItems />\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport {useEffect, useRef} from \"react\"\r\nimport {IDLE} from \"../../global/constants\"\r\nimport {useCurrentUser} from \"../../hooks/use-current-user.hook\"\r\nimport {useAccountItems} from \"../../hooks/use-account-items.hook\"\r\nimport {Suspense, useState} from \"react\"\r\nimport {Redirect, useHistory} from \"react-router-dom\"\r\nimport AccountItemsCluster from '../../comps/account-items'\r\n\r\nimport { SideBar } from \"./side_bar\"\r\nimport axios from \"axios\";\r\nimport fs from \"fs\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nimport { toast } from \"react-toast\"\r\n\r\nimport \"./index.css\"\r\n\r\nconst PINATA_API_KEY = \"8b0d90ef4bf74827eb88\";\r\nconst PINATA_SECRET_API_KEY = \"609ec3e0c1641f4b41c0c6370eed55e108cea9f9396b9e5a1d123061de07b99b\";\r\n\r\nexport const pinJSONToIPFS = (pinataApiKey, pinataSecretApiKey, JSONBody) => {\r\n    const url = `https://api.pinata.cloud/pinning/pinJSONToIPFS`;\r\n    return axios\r\n        .post(url, JSONBody, {\r\n            headers: {\r\n                pinata_api_key: pinataApiKey,\r\n                pinata_secret_api_key: pinataSecretApiKey\r\n            }\r\n        })\r\n        .then(function (response) {\r\n            \r\n        })\r\n        .catch(function (error) {\r\n            \r\n        });\r\n};\r\n\r\nexport function Assets() {\r\n  const [state, setState] = useState({\r\n    inFile: \"\",\r\n    inName: \"\"\r\n  })\r\n  const [asList, setList] = useState([]);\r\n  const [isDirty, setDirty] = useState(true);\r\n  const [listingStatus, setListingStatus] = useState(0);  // 0: Loading, 1: Success, 2: Error.\r\n  const [uploadStatus, setUploadStatus] = useState(0);  // 0: Success, 1: Uploading to IPFS, 2: Uploading to DB\r\n                                                        // 3: IPFS Failed, 4: DB Failed\r\n  const inputFile = useRef(null);\r\n\r\n  useEffect(async () => {\r\n    if (!isDirty) return;\r\n\r\n    try {\r\n      const assetList = await axios.get(process.env.REACT_APP_API_URL + \"/v1/assets/list\");\r\n      if (assetList.data.success != \"true\") {\r\n        setListingStatus(2);\r\n        return;\r\n      }\r\n\r\n      setDirty(false);\r\n      setListingStatus(1);\r\n      setList(assetList.data.result);\r\n    } catch(e) {\r\n      setListingStatus(2);\r\n    }\r\n  }, [isDirty])\r\n\r\n  const handleUpload = async (e) => {\r\n    e.preventDefault();\r\n\r\n    console.log(inputFile);\r\n\r\n    if (state.inFile.length == 0) return;\r\n\r\n    try {\r\n      await pinFileToIPFS(\r\n        PINATA_API_KEY, \r\n        PINATA_SECRET_API_KEY, {\r\n          name: state.inName,\r\n          path: state.inFile,\r\n          obj: inputFile.current\r\n        });\r\n      \r\n      setDirty(true);\r\n    } catch (e) {\r\n\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      ...state, \r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const pinFileToIPFS = async (pinataApiKey, pinataSecretApiKey, imgData) => {\r\n    const url = `https://api.pinata.cloud/pinning/pinFileToIPFS`;\r\n    \r\n    console.log(imgData);\r\n  \r\n    let data = new FormData();\r\n    data.append('file', imgData.obj.files[0]);\r\n    \r\n    const metadata = JSON.stringify({\r\n        name: imgData.name,\r\n        keyvalues: {\r\n          name: imgData.name\r\n        }\r\n    });\r\n    data.append('pinataMetadata', metadata);\r\n    \r\n    const pinataOptions = JSON.stringify({\r\n        cidVersion: 0,\r\n        customPinPolicy: {\r\n            regions: [\r\n                {\r\n                    id: 'FRA1',\r\n                    desiredReplicationCount: 1\r\n                },\r\n                {\r\n                    id: 'NYC1',\r\n                    desiredReplicationCount: 2\r\n                }\r\n            ]\r\n        }\r\n    });\r\n    data.append('pinataOptions', pinataOptions);\r\n  \r\n    setUploadStatus(1);\r\n\r\n    return axios\r\n        .post(url, data, {\r\n            maxBodyLength: 'Infinity',\r\n            headers: {\r\n                'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n                pinata_api_key: pinataApiKey,\r\n                pinata_secret_api_key: pinataSecretApiKey\r\n            }\r\n        })\r\n        .then(function (response) {\r\n            setUploadStatus(2);\r\n            return axios\r\n            .post(process.env.REACT_APP_API_URL + \"/v1/assets/upload\", {\r\n              name: imgData.name,\r\n              path: \"https://cloudflare-ipfs.com/ipfs/\" + response.data.IpfsHash\r\n            })\r\n            .then(function (response) {\r\n              setUploadStatus(0);\r\n              toast.success(\"Upload Succeed.\");\r\n            })\r\n            .catch(function (error) {\r\n              setUploadStatus(4);\r\n              toast.error(\"Unexpected error occured while uploading.\");\r\n            })\r\n        })\r\n        .catch(function (error) {\r\n            setUploadStatus(3);\r\n            toast.error(\"Unexpected error occured while uploading.\");\r\n        });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{paddingLeft: \"20px\"}}>\r\n        <div>\r\n          <h3>::Assets</h3>\r\n        </div>\r\n        <div className=\"f3-panel-layout f3-asset\">\r\n          <div>\r\n            <label>Name</label>\r\n          </div>\r\n          <div>\r\n            <input id=\"inName\" name=\"inName\" value={state.inName} onChange={handleChange} />\r\n          </div>\r\n          <div></div>\r\n          <div>\r\n            <label>Browse for file: &nbsp;</label>\r\n          </div>\r\n          <div>\r\n            <input type=\"file\" id=\"inFile\" name=\"inFile\" value={state.inFile} onChange={handleChange} ref={inputFile}/>\r\n          </div>\r\n          <div>\r\n            <button id=\"\" onClick={handleUpload} disabled={uploadStatus == 1 || uploadStatus == 2}>\r\n              {\r\n                (uploadStatus == 1 || uploadStatus == 2) &&\r\n                <Loader type=\"Puff\" color=\"#00BFFF\" height={20} width={20} className=\"f3-inline\" />\r\n              }\r\n              UPLOAD\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"hline\" />\r\n      <div style={{paddingLeft: \"20px\"}}>\r\n        <div>\r\n          <h3>Current Assets</h3>\r\n          { listingStatus == 0 && <Loader type=\"Oval\" color=\"#1f1f1f\" height={80} width={80} className=\"f3-center\" /> }\r\n          {\r\n            listingStatus == 1 &&\r\n              asList.map(item => (\r\n                <div className=\"f3-current-asset\">\r\n                  <div>\r\n                    <img src={item.img_url} />\r\n                  </div>\r\n                  <div>\r\n                    <div>\r\n                      <span>{item.name}</span>\r\n                    </div>\r\n                    <div>\r\n                      <a href={item.img_url} target=\"_blank\">{item.img_url}</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n          }\r\n          {\r\n            listingStatus == 2 && (\r\n              <p className=\"f3-center\">Unexpected error occured!</p>\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport function Page() {\r\n  return (\r\n    <div>\r\n      <SideBar />\r\n      <div className=\"f3-main\">\r\n        <Assets />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport {useEffect, useRef} from \"react\"\r\nimport {IDLE} from \"../../global/constants\"\r\nimport {useCurrentUser} from \"../../hooks/use-current-user.hook\"\r\nimport {useAccountItems} from \"../../hooks/use-account-items.hook\"\r\nimport { useIpfsItems } from \"../../hooks/use-ipfs-items.hook\"\r\nimport { useEditionList } from \"../../hooks/use-edition-list.hook\"\r\nimport { useSeriesList } from \"../../hooks/use-series-list.hook\"\r\nimport { useSetAllList } from \"../../hooks/use-set-all.hook\"\r\nimport { useSetItem } from \"../../hooks/use-set-item.hook\"\r\nimport {Suspense, useState} from \"react\"\r\nimport {Redirect, useHistory} from \"react-router-dom\"\r\nimport AccountItemsCluster from '../../comps/account-items'\r\n\r\nimport { SideBar } from \"./side_bar\"\r\nimport axios from \"axios\";\r\n\r\nexport const pinFileToIPFS = async (pinataApiKey, pinataSecretApiKey, imgData) => {\r\n  const url = `https://api.pinata.cloud/pinning/pinFileToIPFS`;\r\n  \r\n  console.log(imgData);\r\n\r\n  let data = new FormData();\r\n  data.append('file', imgData.obj.files[0]);\r\n  \r\n  const metadata = JSON.stringify({\r\n      name: imgData.name,\r\n      keyvalues: {\r\n        name: imgData.name\r\n      }\r\n  });\r\n  data.append('pinataMetadata', metadata);\r\n  \r\n  const pinataOptions = JSON.stringify({\r\n      cidVersion: 0,\r\n      customPinPolicy: {\r\n          regions: [\r\n              {\r\n                  id: 'FRA1',\r\n                  desiredReplicationCount: 1\r\n              },\r\n              {\r\n                  id: 'NYC1',\r\n                  desiredReplicationCount: 2\r\n              }\r\n          ]\r\n      }\r\n  });\r\n  data.append('pinataOptions', pinataOptions);\r\n\r\n  return axios\r\n      .post(url, data, {\r\n          maxBodyLength: 'Infinity',\r\n          headers: {\r\n              'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n              pinata_api_key: pinataApiKey,\r\n              pinata_secret_api_key: pinataSecretApiKey\r\n          }\r\n      })\r\n      .then(function (response) {\r\n          axios.post(process.env.REACT_APP_API_URL + \"/v1/assets/upload\", {\r\n            name: imgData.name,\r\n            path: \"https://cloudflare-ipfs.com/ipfs/\" + response.data.IpfsHash\r\n          })\r\n      })\r\n      .catch(function (error) {\r\n          //handle error here\r\n      });\r\n};\r\n\r\nexport function Item({meta}) {\r\n  const item = useSetItem(meta[\"id\"]);\r\n\r\n  console.log(meta[\"id\"]);\r\n  console.log(item);\r\n\r\n  return (\r\n    <div className=\"f3-store-series-item\">\r\n      <img src={meta.image} /> <br />\r\n      <a href={\"/editions/\" + meta.id}>{meta.name} Edition</a>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport function WrappedItem(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Item {...props} />\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nexport function SeriesCluster({meta, reload}) {\r\n  console.log(typeof meta.id);\r\n  const { editions } = useEditionList(meta.id, reload);\r\n\r\n  const getEditionList = () => {\r\n    var res = [];\r\n\r\n    for (const prop in editions) {\r\n      res.push(\r\n        <Item meta={editions[prop]} />\r\n      )\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div className=\"f3-collections-body\">\r\n      <div>\r\n        <div className=\"f3-center\" style={{paddingRight: \"20px\"}}>\r\n          { meta.name }\r\n          <img src={meta.image} width=\"100px\" height=\"auto\" />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        Editions&nbsp;\r\n      </div>\r\n      <div>\r\n        { getEditionList() }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function MintNFT() {\r\n  const [state, setState] = useState({\r\n    inName: \"\",\r\n    inAsset: \"\",\r\n    inQuantity: \"0\",  \r\n    inSerial: \"yes\",\r\n    inSeries: \"\",\r\n    inPrice: \"\",\r\n    inEdition: \"-1\"\r\n  })\r\n  const items = useIpfsItems();\r\n  const { series } = useSeriesList(true);\r\n  const { editions } = useEditionList(state.inSeries);\r\n  const { sets } = useSetAllList();\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      ...state, \r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleMint = (e) => {\r\n    e.preventDefault();\r\n/*\r\n    mintItem({\r\n      name: state.inName,\r\n      tokenURI: items.assets[state.inAsset].img_url,\r\n      quantity: state.inQuantity,\r\n      isSerial: state.inSerial,\r\n      collection: state.inSeries,\r\n      price: state.inPrice,\r\n      series: state.inEdition\r\n    })\r\n*/\r\n    createSet({\r\n      name: state.inName,\r\n      desc: state.inDescription,\r\n      thumb: items.assets[state.inThumb].img_url,\r\n      quantity: state.inQuantity,\r\n      isSerial: state.inSerial,\r\n      series: state.inSeries,\r\n      price: state.inPrice,\r\n      edition: state.inEdition\r\n    })\r\n  }\r\n\r\n  const mintItem = async (params) => {\r\n    console.log(params);\r\n\r\n    await fetch(process.env.REACT_APP_API_ITEM_MINT, {\r\n    // await fetch(\"http://localhost:3003/v1/handy-items/mint\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(params),\r\n    })\r\n  }\r\n\r\n  const createSet = async (params) => {\r\n      //await fetch(process.env.REACT_APP_API_URL + \"/v1/handy-items/create-set\", {\r\n      await fetch(\"http://localhost:3003/v1/handy-items/create-set\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(params),\r\n    })\r\n  }\r\n\r\n  const editionList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in editions) {\r\n      res.push(<option key={prop} value={prop}>{editions[prop].name}</option>)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  const seriesList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in series) {\r\n      res.push(<option key={prop} value={prop}>{series[prop].name}</option>)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  const setList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in sets) {\r\n      res.push(<WrappedItem key={prop} meta={sets[prop]} />)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{paddingLeft: \"20px\"}}>\r\n        <div>\r\n          <h3>::Mint NFTs</h3>\r\n        </div>\r\n        <div className=\"f3-panel-layout f3-mintnft-head\">\r\n          {/* First Row: Name and Asset(IPFS) */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Name: </label>\r\n              </div>\r\n              <div>\r\n                <input id=\"inName\" name=\"inName\" value={state.inName} onChange={handleChange} />\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>NFT Thumbnail: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inThumb\" name=\"inThumb\" onChange={handleChange} value={state.inThumb} >\r\n                  <option value=\"\"></option>\r\n                  {\r\n                    items.assets.map((item, index) => (\r\n                      <option key={index} value={index}>{item.name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* First Row: Name and Asset(IPFS) */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Description: </label>\r\n              </div>\r\n              <div>\r\n                <textarea id=\"inDescription\" name=\"inDescription\" value={state.inDescription} onChange={handleChange}>\r\n                  &nbsp;\r\n                </textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>NFT Asset: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inAsset\" name=\"inAsset\" onChange={handleChange} value={state.inAsset} >\r\n                  <option value=\"\"></option>\r\n                  {\r\n                    items.assets.map((item, index) => (\r\n                      <option key={index} value={index}>{item.name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Second Row: Quantity and Serial#'s */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Quantity: </label>\r\n              </div>\r\n              <div>\r\n                <input id=\"inQuantity\" name=\"inQuantity\" value={state.inQuantity} \r\n                       onChange={handleChange} size=\"4\" className=\"f3-center\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Serial #'s: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inSerial\" name=\"inSerial\" value={state.inSerial} onChange={handleChange}>\r\n                  <option value=\"yes\">Yes</option>\r\n                  <option value=\"no\">No</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Third Row: Series and Price */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Series: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inSeries\" name=\"inSeries\" value={state.inSeries} onChange={handleChange}>\r\n                  <option value=\"\"></option>\r\n                  { seriesList() }\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Price(USD): </label>\r\n              </div>\r\n              <div>\r\n                <input id=\"inPrice\" name=\"inPrice\" value={state.inPrice} onChange={handleChange} size=\"8\" /><span>&nbsp;$</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Fourth Row: Edition and Mint Button */}\r\n          <div className=\"f3-mintnft-row\">\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <label>Edition: </label>\r\n              </div>\r\n              <div>\r\n                <select id=\"inEdition\" name=\"inEdition\" value={state.inEdition} onChange={handleChange}>\r\n                  <option value=\"-1\"></option>\r\n                  { editionList() }\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"f3-mintnft-item\">\r\n              <div>\r\n                <button onClick={handleMint}>MINT NFT</button>\r\n              </div>\r\n              <div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div className=\"hline\" />\r\n        <div style={{paddingLeft: \"20px\"}}>\r\n          <div>\r\n            <h3>Current NFTs</h3>\r\n            { setList() }\r\n          </div>\r\n        </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport function Page() {\r\n  return (\r\n    <div>\r\n      <SideBar />\r\n      <div className=\"f3-main\">\r\n        <MintNFT />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport {useEffect, useRef} from \"react\"\r\nimport {IDLE} from \"../../global/constants\"\r\nimport {useCurrentUser} from \"../../hooks/use-current-user.hook\"\r\nimport {useAccountItems} from \"../../hooks/use-account-items.hook\"\r\nimport {Suspense, useState} from \"react\"\r\nimport {Redirect, useHistory} from \"react-router-dom\"\r\nimport AccountItemsCluster from '../../comps/account-items'\r\n\r\nimport { useSeriesList } from \"../../hooks/use-series-list.hook\"\r\n\r\nimport { SideBar } from \"./side_bar\"\r\nimport axios from \"axios\";\r\nimport fs from \"fs\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nimport { toast } from \"react-toast\"\r\n\r\nimport \"./index.css\"\r\nimport { useEditionList } from \"../../hooks/use-edition-list.hook\"\r\n\r\nconst PINATA_API_KEY = \"8b0d90ef4bf74827eb88\";\r\nconst PINATA_SECRET_API_KEY = \"609ec3e0c1641f4b41c0c6370eed55e108cea9f9396b9e5a1d123061de07b99b\";\r\n\r\nexport const pinJSONToIPFS = (pinataApiKey, pinataSecretApiKey, JSONBody) => {\r\n    const url = `https://api.pinata.cloud/pinning/pinJSONToIPFS`;\r\n    return axios\r\n        .post(url, JSONBody, {\r\n            headers: {\r\n                pinata_api_key: pinataApiKey,\r\n                pinata_secret_api_key: pinataSecretApiKey\r\n            }\r\n        })\r\n        .then(function (response) {\r\n            \r\n        })\r\n        .catch(function (error) {\r\n            \r\n        });\r\n};\r\n\r\nexport const pinFileToIPFS = async (pinataApiKey, pinataSecretApiKey, imgData) => {\r\n  const url = `https://api.pinata.cloud/pinning/pinFileToIPFS`;\r\n  \r\n  console.log(imgData);\r\n\r\n  let data = new FormData();\r\n  data.append('file', imgData.obj.files[0]);\r\n  \r\n  const metadata = JSON.stringify({\r\n      name: imgData.name,\r\n      keyvalues: {\r\n        name: imgData.name\r\n      }\r\n  });\r\n  data.append('pinataMetadata', metadata);\r\n  \r\n  const pinataOptions = JSON.stringify({\r\n      cidVersion: 0,\r\n      customPinPolicy: {\r\n          regions: [\r\n              {\r\n                  id: 'FRA1',\r\n                  desiredReplicationCount: 1\r\n              },\r\n              {\r\n                  id: 'NYC1',\r\n                  desiredReplicationCount: 2\r\n              }\r\n          ]\r\n      }\r\n  });\r\n  data.append('pinataOptions', pinataOptions);\r\n\r\n  return axios\r\n      .post(url, data, {\r\n          maxBodyLength: 'Infinity',\r\n          headers: {\r\n              'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n              pinata_api_key: pinataApiKey,\r\n              pinata_secret_api_key: pinataSecretApiKey\r\n          }\r\n      })\r\n      .then(function (response) {\r\n          axios.post(process.env.REACT_APP_API_URL + \"/v1/assets/upload\", {\r\n            name: imgData.name,\r\n            path: \"https://cloudflare-ipfs.com/ipfs/\" + response.data.IpfsHash\r\n          })\r\n      })\r\n      .catch(function (error) {\r\n          //handle error here\r\n      });\r\n};\r\n\r\nfunction Item({meta}) {\r\n  return (\r\n    <div className=\"f3-collections-body-item f3-center\">\r\n      <img src={meta.image} width=\"100px\" />\r\n      {meta.name}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function SeriesCluster({meta, reload}) {\r\n  console.log(typeof meta.id);\r\n  const { editions } = useEditionList(meta.id, reload);\r\n\r\n  const getEditionList = () => {\r\n    var res = [];\r\n\r\n    for (const prop in editions) {\r\n      res.push(\r\n        <Item meta={editions[prop]} />\r\n      )\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div className=\"f3-collections-body\">\r\n      <div>\r\n        <div className=\"f3-center\" style={{paddingRight: \"20px\"}}>\r\n          { meta.name }\r\n          <img src={meta.image} width=\"100px\" height=\"auto\" />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        Editions&nbsp;\r\n      </div>\r\n      <div>\r\n        { getEditionList() }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function Assets() {\r\n  const [state, setState] = useState({\r\n    inFile: \"\",\r\n    inName: \"\"\r\n  })\r\n  const [asList, setList] = useState([]);\r\n  const [isDirty, setDirty] = useState(true);\r\n  const [upSeriesStatus, setSeriesStatus] = useState(0);  // 0: Success, 1: Creating, 2: Error\r\n  const [upEditionStatus, setEditionStatus] = useState(0);\r\n  const { series } = useSeriesList(isDirty);\r\n\r\n  useEffect(async () => {\r\n    if (!isDirty) return;\r\n\r\n    const assetList = await axios.get(process.env.REACT_APP_API_URL + \"/v1/assets/list\");\r\n    if (assetList.data.success != \"true\") return;\r\n\r\n    setDirty(false);\r\n    setList(assetList.data.result);\r\n  }, [isDirty])\r\n\r\n  useEffect(() => {\r\n    console.log(\"3. Clear Dirty\");\r\n    setDirty(false);\r\n  }, [isDirty])\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      ...state, \r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleCreateSeries = async (e) => {\r\n\r\n    try {\r\n      setSeriesStatus(1);\r\n      //await fetch(process.env.REACT_APP_API_URL + \"/v1/handy-items/create-series\", {\r\n      await fetch(\"http://localhost:3003/v1/handy-items/create-series\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            name: state.inSeriesName,\r\n            image: asList[state.inSeriesImg].img_url\r\n          }),\r\n        })\r\n      setSeriesStatus(0);\r\n      setDirty(true);\r\n\r\n      toast.success(\"Series created successfully!\");\r\n    } catch (e) {\r\n      setSeriesStatus(2);\r\n      toast.error(\"Unexpected error occured while creating series!\");\r\n    }\r\n  }\r\n\r\n  const handleCreateEdition = async (e) => {\r\n\r\n    try {\r\n      setEditionStatus(1);\r\n      //await fetch(process.env.REACT_APP_API_URL + \"/v1/handy-items/create-edition\", {\r\n      await fetch(\"http://localhost:3003/v1/handy-items/create-edition\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: state.inEditionName,\r\n          series: state.inEditionSeries,\r\n          image: asList[state.inEditionImg].img_url\r\n        }),\r\n      })\r\n      setEditionStatus(0);\r\n      setDirty(true);\r\n      toast.success(\"Edition created successfully!\");\r\n    } catch (e) {\r\n      setEditionStatus(2);\r\n      toast.error(\"Unexpected error occured while creating edition!\");\r\n    }\r\n  }\r\n\r\n  const getSeriesList = () => {\r\n    var res = [];\r\n\r\n    for (const prop in series) {\r\n      res.push(<option key={prop} value={prop}>{series[prop].name}</option>)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  const getCurrentSeries = () => {\r\n    var res = [];\r\n\r\n    console.log(series);\r\n\r\n    for (const prop in series) {\r\n      console.log(series[prop]);\r\n      res.push(\r\n        <SeriesCluster meta={series[prop]} reload={isDirty} />\r\n      )\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{paddingLeft: \"20px\"}}>\r\n        <div>\r\n          <h3>::Series</h3>\r\n        </div>\r\n        <div className=\"f3-panel-layout f3-collections-head\">\r\n          <div>\r\n            <label>Series Name:</label>\r\n          </div>\r\n          <div>\r\n            <input id=\"inSeriesName\" name=\"inSeriesName\" value={state.inSeriesName} onChange={handleChange} />\r\n          </div>\r\n          <div></div>\r\n          <div>\r\n            <label>Series Image: &nbsp;</label>\r\n          </div>\r\n          <div>\r\n            <select id=\"inSeriesImg\" name=\"inSeriesImg\" onChange={handleChange} value={state.inSeriesImg} >\r\n              <option value=\"\"></option>\r\n              {\r\n                asList.map((item, index) => (\r\n                  <option key={index} value={index}>{item.name}</option>\r\n                ))\r\n              }\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <button class=\"f3-collections-btn\" id=\"\" onClick={handleCreateSeries} disabled={upSeriesStatus === 1}>\r\n              { \r\n                upSeriesStatus == 1 && \r\n                  <Loader type=\"Puff\" color=\"#00BFFF\" height={20} width={20} className=\"f3-inline\" />\r\n              }\r\n              CREATE SERIES\r\n            </button>\r\n          </div>\r\n          <div className=\"f3-collections-hline\">\r\n          </div>\r\n          <div>\r\n            <label>Series:</label>\r\n          </div>\r\n          <div>\r\n            <select id=\"inEditionSeries\" name=\"inEditionSeries\" onChange={handleChange} value={state.inEditionSeries}>\r\n              <option value=\"\"></option>\r\n              { getSeriesList() }\r\n            </select>\r\n          </div>\r\n          <div></div>\r\n          <div>\r\n            <label>Edition Name: </label>\r\n          </div>\r\n          <div>\r\n            <input id=\"inEditionName\" name=\"inEditionName\" value={state.inEditionName} onChange={handleChange} />\r\n          </div>\r\n          <div></div>\r\n          <div>\r\n            <label>Edition Image: </label>\r\n          </div>\r\n          <div>\r\n            <select id=\"inEditionImg\" name=\"inEditionImg\" onChange={handleChange} value={state.inEditionImg} >\r\n              <option value=\"\"></option>\r\n              {\r\n                asList.map((item, index) => (\r\n                  <option key={index} value={index}>{item.name}</option>\r\n                ))\r\n              }\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <button class=\"f3-collections-btn\" id=\"\" onClick={handleCreateEdition} disabled={upEditionStatus === 1}>\r\n              { \r\n                upEditionStatus == 1 && \r\n                  <Loader type=\"Puff\" color=\"#00BFFF\" height={20} width={20} className=\"f3-inline\" />\r\n              }\r\n              CREATE EDITION\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"hline\" />\r\n      <div style={{paddingLeft: \"20px\"}}>\r\n        <div>\r\n          <h3>Current Series</h3>\r\n        </div>\r\n        <div>\r\n          { getCurrentSeries() }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport function Page() {\r\n  return (\r\n    <div>\r\n      <SideBar />\r\n      <div className=\"f3-main\">\r\n        <Assets />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useState, Suspense } from \"react\";\r\nimport { MarketItemsCluster } from \"../../comps/market-items\";\r\nimport { useAccountItem } from \"../../hooks/use-account-item.hook\";\r\nimport { useAccountItems } from \"../../hooks/use-account-items.hook\";\r\nimport { useSeriesList } from \"../../hooks/use-series-list.hook\";\r\n\r\nexport function Item({meta}) {\r\n\r\n  console.log(meta);\r\n\r\n  return (\r\n    <div className=\"f3-store-collection-item\">\r\n      <img src={meta.image} />\r\n      <a href={\"/series/\" + meta.id}>{meta.name}</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function WrappedItem(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Item {...props} />\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nexport function Page() {\r\n\r\n  const { series } = useSeriesList(true);\r\n\r\n  const getList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in series) {\r\n      res.push(<WrappedItem meta={series[prop]} />)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div className=\"f3-store-padding\">\r\n      <div>\r\n        <h1 style={{margin: \"10px 0px\"}}>NFT Storefront</h1>\r\n        <div className=\"f3-store-hline\"></div>\r\n      </div>\r\n      <div className=\"f3-store-padding\">\r\n        <div>\r\n          <h2 className=\"f3-store-h2\">Available Series</h2>\r\n        </div>\r\n        <div className=\"f3-store-container\">\r\n          { getList() }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address, UInt32} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\nimport HandyItems from 0xHandyItems\r\n\r\npub fun main(id: UInt32): HandyItems.QuerySeriesData? {\r\n  return HandyItems.getSeriesData(series: id)\r\n}\r\n`\r\n\r\nexport function getSeriesItem(series) {\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args([arg(Number(series), UInt32)])\r\n  ]).then(decode)\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { getSeriesItem } from \"../flow/sc.get-series-item\";\r\n\r\nexport function useSeriesItem(id) {\r\n  const [item, setItem] = useState({});\r\n\r\n  useEffect(async () => {\r\n    const series = await getSeriesItem(id);\r\n\r\n    console.log(series);\r\n\r\n    for (const prop in series)\r\n      console.log(series[prop]);\r\n\r\n    setItem(series);\r\n  }, [id]);\r\n\r\n  return {\r\n    series: item\r\n  }\r\n}","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address, UInt32} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\nimport HandyItems from 0xHandyItems\r\n\r\npub fun main(series: UInt32): {UInt32: HandyItems.QuerySetEditionData} {\r\n  return HandyItems.getSets(series: series)\r\n}\r\n`\r\n\r\nexport function getSetList(series) {\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args([arg(Number(series), UInt32)])\r\n  ]).then(decode)\r\n}","import { useState, Suspense } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { useAccountItem } from \"../../hooks/use-account-item.hook\";\r\nimport { useAccountItems } from \"../../hooks/use-account-items.hook\";\r\nimport { useEditionList } from \"../../hooks/use-edition-list.hook\";\r\nimport { useSeriesItem } from \"../../hooks/use-series-item.hook\";\r\nimport { useSetList } from \"../../hooks/use-set-list.hook\";\r\n\r\nexport function Item({meta}) {\r\n\r\n  return (\r\n    <div className=\"f3-store-series-item\">\r\n      <img src={meta.image} /> <br />\r\n      <a href={\"/editions/\" + meta.id}>{meta.name} Edition</a>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport function WrappedItem(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Item {...props} />\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nexport function Page() {\r\n\r\n  const { id } = useParams();\r\n  const { series } = useSeriesItem(id);\r\n  // const { editions } = useEditionList(id);/\r\n  const { sets } = useSetList(id);\r\n\r\n  const getList = () => {\r\n    var res = [];\r\n    \r\n    for (const prop in sets) {\r\n      res.push(<WrappedItem meta={sets[prop]} />)\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  return (\r\n    <div className=\"f3-store-padding\">\r\n      <div>\r\n        <h1 style={{margin: \"10px 0px\"}}>NFT Storefront</h1>\r\n        <div className=\"f3-store-hline\"></div>\r\n      </div>\r\n      <div className=\"f3-store-padding\">\r\n        <div>\r\n          <h2 className=\"f3-store-h2\">{series.name} Series - Current Editions</h2>\r\n        </div>\r\n        <div className=\"f3-store-container\">\r\n          { getList() }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { getSetList } from \"../flow/sc.get-set-list\";\r\n\r\nexport function useSetList(series) {\r\n  const [items, setItems] = useState({});\r\n\r\n  useEffect(async () => {\r\n    const sets = await getSetList(series)\r\n\r\n    console.log(sets);\r\n\r\n    for (const prop in sets)\r\n      console.log(sets[prop]);\r\n\r\n    setItems(sets);\r\n  }, []);\r\n\r\n  return {\r\n    sets: items\r\n  }\r\n}","import {send, decode, script, args, arg, cdc} from \"@onflow/fcl\"\r\nimport {Address, UInt32} from \"@onflow/types\"\r\n\r\nconst CODE = cdc`\r\nimport NFTStorefront from 0xNFTStorefront\r\nimport HandyItems from 0xHandyItems\r\n\r\npub fun main(id: UInt32): HandyItems.QueryEditionData? {\r\n  return HandyItems.getEditionData(id: id)\r\n}\r\n`\r\n\r\nexport function getEditionItem(edition) {\r\n  // prettier-ignore\r\n  return send([\r\n    script(CODE),\r\n    args([arg(Number(edition), UInt32)])\r\n  ]).then(decode)\r\n}","import * as fcl from \"@onflow/fcl\"\r\nimport * as t from \"@onflow/types\"\r\nimport {tx} from \"./util/tx\"\r\nimport {invariant} from \"@onflow/util-invariant\"\r\n\r\nconst CODE = fcl.cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import FUSD from 0xFUSD\r\n  import HandyItems from 0xHandyItems\r\n  import NFTStorefront from 0xNFTStorefront\r\n\r\n  transaction(setID: UInt32, storefrontAddress: Address) {\r\n\r\n    let paymentVault: @FungibleToken.Vault\r\n    let handyItemsCollection: &HandyItems.Collection{NonFungibleToken.Receiver}\r\n    let set: &HandyItems.Set\r\n\r\n    prepare(account: AuthAccount) {\r\n      self.set = HandyItems.borrowSet(setID: setID)\r\n      \r\n      let price: UFix64 = self.set.price\r\n      // let price: UFix64 = 3.0\r\n\r\n      let mainFUSDVault = account.borrow<&FUSD.Vault>(from: /storage/fusdVault)\r\n        ?? panic(\"Cannot borrow FUSD vault from account storage\")\r\n      \r\n      self.paymentVault <- mainFUSDVault.withdraw(amount: price)\r\n\r\n      self.handyItemsCollection = account.borrow<&HandyItems.Collection{NonFungibleToken.Receiver}>(\r\n        from: HandyItems.CollectionStoragePath\r\n      ) ?? panic(\"Cannot borrow HandyItems collection receiver from account\")\r\n    }\r\n  \r\n    execute {\r\n      let item <- self.set.mintNFT(\r\n        payment: <-self.paymentVault\r\n      )\r\n\r\n      self.handyItemsCollection.deposit(token: <-item)\r\n    }\r\n  }\r\n`\r\n\r\n// prettier-ignore\r\nexport function purchaseHandyItem({setID, ownerAddress}, opts = {}) {\r\n\r\n  return tx([\r\n    fcl.transaction(CODE),\r\n    fcl.args([\r\n      fcl.arg(Number(setID), t.UInt32),\r\n      fcl.arg(String(ownerAddress), t.Address),\r\n    ]),\r\n    fcl.proposer(fcl.authz),\r\n    fcl.payer(fcl.authz),\r\n    fcl.authorizations([fcl.authz]),\r\n    fcl.limit(1000),\r\n  ], opts)\r\n}\r\n","// prettier-ignore\r\nimport {transaction, limit, proposer, payer, authorizations, authz, cdc} from \"@onflow/fcl\"\r\nimport {invariant} from \"@onflow/util-invariant\"\r\nimport {tx} from \"./util/tx\"\r\n\r\nconst CODE = cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import FUSD from 0xFUSD\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import HandyItems from 0xHandyItems\r\n  import NFTStorefront from 0xNFTStorefront\r\n\r\n  pub fun hasItems(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath)\r\n      .check()\r\n  }\r\n\r\n  pub fun hasFUSD(_ address: Address): Bool {\r\n    let receiver: Bool = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver)\r\n      .check()\r\n\r\n    let balance: Bool = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance)\r\n      .check()\r\n\r\n    return receiver && balance\r\n  }\r\n\r\n  pub fun hasStorefront(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath)\r\n      .check()\r\n  }\r\n\r\n  transaction {\r\n    prepare(acct: AuthAccount) {\r\n\r\n      if !hasItems(acct.address) {\r\n        if acct.borrow<&HandyItems.Collection>(from: HandyItems.CollectionStoragePath) == nil {\r\n          acct.save(<-HandyItems.createEmptyCollection(), to: HandyItems.CollectionStoragePath)\r\n        }\r\n        acct.unlink(HandyItems.CollectionPublicPath)\r\n        acct.link<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath, target: HandyItems.CollectionStoragePath)\r\n      }\r\n\r\n      if !hasStorefront(acct.address) {\r\n        if acct.borrow<&NFTStorefront.Storefront>(from: NFTStorefront.StorefrontStoragePath) == nil {\r\n          acct.save(<-NFTStorefront.createStorefront(), to: NFTStorefront.StorefrontStoragePath)\r\n        }\r\n        acct.unlink(NFTStorefront.StorefrontPublicPath)\r\n        acct.link<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath, target: NFTStorefront.StorefrontStoragePath)\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport async function initializeAccount(address, opts = {}) {\r\n  // prettier-ignore\r\n  invariant(address != null, \"Tried to initialize an account but no address was supplied\")\r\n\r\n  return tx(\r\n    [\r\n      transaction(CODE),\r\n      limit(70),\r\n      proposer(authz),\r\n      payer(authz),\r\n      authorizations([authz]),\r\n    ],\r\n    opts\r\n  )\r\n}\r\n\r\nconst DELETE_COLLECTION = cdc`\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import HandyItems from 0xHandyItems\r\n\r\n  transaction {\r\n    prepare(acct: AuthAccount) {\r\n      if acct.borrow<&HandyItems.Collection>(from: HandyItems.CollectionStoragePath) != nil {\r\n        let collection <- acct.load<@HandyItems.Collection>(from: HandyItems.CollectionStoragePath)\r\n        destroy collection\r\n      }\r\n      acct.unlink(HandyItems.CollectionPublicPath)\r\n    }\r\n  }\r\n`\r\n\r\nexport async function initDeleteCollection(address, opts = {}) {\r\n  // prettier-ignore\r\n  invariant(address != null, \"no address was supplied\")\r\n\r\n  return tx(\r\n    [\r\n      transaction(DELETE_COLLECTION),\r\n      limit(70),\r\n      proposer(authz),\r\n      payer(authz),\r\n      authorizations([authz]),\r\n    ],\r\n    opts\r\n  )\r\n}\r\n\r\nconst CREATE_COLLECTION = cdc`\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import HandyItems from 0xHandyItems\r\n\r\n  transaction {\r\n    prepare(acct: AuthAccount) {\r\n      if acct.borrow<&HandyItems.Collection>(from: HandyItems.CollectionStoragePath) == nil {\r\n        acct.save(<-HandyItems.createEmptyCollection(), to: HandyItems.CollectionStoragePath)\r\n      }\r\n      acct.unlink(HandyItems.CollectionPublicPath)\r\n      acct.link<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath, target: HandyItems.CollectionStoragePath)\r\n    }\r\n  }\r\n`\r\n\r\nexport async function initCreateCollection(address, opts = {}) {\r\n  // prettier-ignore\r\n  invariant(address != null, \"no address was supplied\")\r\n\r\n  return tx(\r\n    [\r\n      transaction(CREATE_COLLECTION),\r\n      limit(70),\r\n      proposer(authz),\r\n      payer(authz),\r\n      authorizations([authz]),\r\n    ],\r\n    opts\r\n  )\r\n}\r\n\r\nconst CREATE_FUSD = cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import FUSD from 0xFUSD\r\n\r\n  transaction {\r\n    prepare(acct: AuthAccount) {\r\n      if (acct.borrow<&FUSD.Vault>(from: /storage/fusdVault) == nil) {\r\n        acct.save(<-FUSD.createEmptyVault(), to: /storage/fusdVault)\r\n      }\r\n\r\n      acct.unlink(/public/fusdReceiver)\r\n      acct.link<&FUSD.Vault{FungibleToken.Receiver}>(\r\n        /public/fusdReceiver,\r\n        target: /storage/fusdVault\r\n      )\r\n\r\n      acct.unlink(/public/fusdBalance)\r\n      acct.link<&FUSD.Vault{FungibleToken.Balance}>(\r\n        /public/fusdBalance,\r\n        target: /storage/fusdVault\r\n      )\r\n    }\r\n  }\r\n`\r\n\r\nexport async function initCreateFusd(address, opts = {}) {\r\n  // prettier-ignore\r\n  invariant(address != null, \"no address was supplied\")\r\n\r\n  return tx(\r\n    [\r\n      transaction(CREATE_FUSD),\r\n      limit(70),\r\n      proposer(authz),\r\n      payer(authz),\r\n      authorizations([authz]),\r\n    ],\r\n    opts\r\n  )\r\n}\r\n\r\nconst DELETE_ALL = cdc`\r\n  import FungibleToken from 0xFungibleToken\r\n  import FUSD from 0xFUSD\r\n  import NonFungibleToken from 0xNonFungibleToken\r\n  import HandyItems from 0xHandyItems\r\n  import NFTStorefront from 0xNFTStorefront\r\n\r\n  pub fun hasItems(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath)\r\n      .check()\r\n  }\r\n\r\n  pub fun hasFUSD(_ address: Address): Bool {\r\n    let receiver: Bool = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver)\r\n      .check()\r\n\r\n    let balance: Bool = getAccount(address)\r\n      .getCapability<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance)\r\n      .check()\r\n\r\n    return receiver && balance\r\n  }\r\n\r\n  pub fun hasStorefront(_ address: Address): Bool {\r\n    return getAccount(address)\r\n      .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath)\r\n      .check()\r\n  }\r\n\r\n  transaction {\r\n    prepare(acct: AuthAccount) {\r\n\r\n      if hasFUSD(acct.address) {\r\n        if acct.borrow<&FUSD.Vault>(from: /storage/fusdVault) != nil {\r\n          delete acct.load<@FUSD.Vault>(from: /storage/fusdVault)\r\n        }\r\n        acct.unlink(/public/fusdReceiver)\r\n        acct.unlink(/public/fusdBalance)\r\n\r\n      }\r\n\r\n      if !hasItems(acct.address) {\r\n        if acct.borrow<&HandyItems.Collection>(from: HandyItems.CollectionStoragePath) != nil {\r\n          acct.load(<-HandyItems.createEmptyCollection(), to: HandyItems.CollectionStoragePath)\r\n        }\r\n        acct.unlink(HandyItems.CollectionPublicPath)\r\n        acct.link<&HandyItems.Collection{NonFungibleToken.CollectionPublic, HandyItems.HandyItemsCollectionPublic}>(HandyItems.CollectionPublicPath, target: HandyItems.CollectionStoragePath)\r\n      }\r\n\r\n      if !hasStorefront(acct.address) {\r\n        if acct.borrow<&NFTStorefront.Storefront>(from: NFTStorefront.StorefrontStoragePath) == nil {\r\n          acct.save(<-NFTStorefront.createStorefront(), to: NFTStorefront.StorefrontStoragePath)\r\n        }\r\n        acct.unlink(NFTStorefront.StorefrontPublicPath)\r\n        acct.link<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath, target: NFTStorefront.StorefrontStoragePath)\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport async function initDeleteAll(address, opts = {}) {\r\n  // prettier-ignore\r\n  invariant(address != null, \"Tried to initialize an account but no address was supplied\")\r\n\r\n  return tx(\r\n    [\r\n      transaction(DELETE_ALL),\r\n      limit(70),\r\n      proposer(authz),\r\n      payer(authz),\r\n      authorizations([authz]),\r\n    ],\r\n    opts\r\n  )\r\n}","import { Suspense } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { useAccountItem } from \"../../hooks/use-account-item.hook\";\r\nimport { useSetItem } from \"../../hooks/use-set-item.hook\";\r\nimport { useSeriesItem } from \"../../hooks/use-series-item.hook\";\r\nimport { useEditionItem } from \"../../hooks/use-edition-item.hook\";\r\nimport { purchaseHandyItem } from \"../../flow/tx.purchase-handy-item\";\r\nimport { useCurrentUser } from \"../../hooks/use-current-user.hook\";\r\nimport * as Init from \"../../flow/tx.initialize-my-account\";\r\n\r\nexport function Page() {\r\n  const [user, loggedIn, {signUp, logIn}] = useCurrentUser();\r\n\r\n  const handlePurchase = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!loggedIn) {\r\n      console.log(\"You must log in.\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  const handleLogin = (e) => {\r\n    logIn();\r\n  }\r\n\r\n  const handleInitCollection = (e) => {\r\n    Init.initCreateCollection(user.addr);\r\n  }\r\n\r\n  const handleDeleteCollection = (e) => {\r\n    Init.initDeleteCollection(user.addr);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      { loggedIn ? (\r\n        <div>\r\n          <button onClick={handleDeleteCollection}>Delete Collection</button>\r\n          <button onClick={handleInitCollection}>Init Collection</button>\r\n        </div>\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function WrappedPage(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Page {...props} />\r\n    </Suspense>\r\n  )\r\n}","\r\nimport { useCurrentUser } from \"../hooks/use-current-user.hook\";\r\nimport { useInitialized } from \"../hooks/use-initialized.hook\";\r\nimport \"./mint/index.css\"\r\n\r\nexport function Page() {\r\n  const [user, loggedIn, {signUp, logIn, logOut}] = useCurrentUser();\r\n  const init = useInitialized(user.addr)\r\n\r\n  console.log(init);\r\n\r\n  const handleConnectWallet = (e) => {\r\n    e.preventDefault();\r\n\r\n    logIn();\r\n  }\r\n\r\n  const handleInitializeWallet = (e) => {\r\n    e.preventDefault();\r\n\r\n    init.initialize(user.addr);\r\n  }\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n\r\n    logOut();\r\n  }\r\n\r\n  return (\r\n    <div class=\"navbar\">\r\n      <ul>\r\n        <li><a href=\"/\">NFT Storefront</a></li>\r\n        <li><a href=\"/mywallet\">My Wallet</a></li>\r\n        <li style={{float: \"right\"}}>\r\n          { \r\n            loggedIn ? (\r\n              <div>\r\n                {\r\n                  init.isInitialized == true ? (\r\n                    <span className=\"f3-nav-addr\">Account Connected:&nbsp; {user.addr}</span>\r\n                  ): (\r\n                    <a href=\"#\" onClick={handleInitializeWallet}>Initialize Wallet</a>\r\n                  )\r\n                }\r\n                <a href=\"#\" onClick={handleLogout}>Sign out</a>\r\n              </div>\r\n            ) : (\r\n              <a href=\"#\" onClick={handleConnectWallet}>Connect Wallet</a>\r\n            )\r\n          }\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}","import { Suspense, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { useAccountItem } from \"../../hooks/use-account-item.hook\";\r\nimport { useSetItem } from \"../../hooks/use-set-item.hook\";\r\nimport { useSeriesItem } from \"../../hooks/use-series-item.hook\";\r\nimport { useEditionItem } from \"../../hooks/use-edition-item.hook\";\r\nimport { purchaseHandyItem } from \"../../flow/tx.purchase-handy-item\";\r\nimport { useCurrentUser } from \"../../hooks/use-current-user.hook\";\r\nimport { useInitialized } from \"../../hooks/use-initialized.hook\";\r\nimport { Page as Navbar } from \"../navbar\"\r\n\r\nimport { toast } from 'react-toast'\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport function Page() {\r\n  let { id } = useParams();\r\n  const { item, reload } = useSetItem(id);\r\n\r\n  const [user, loggedIn, {signUp, logIn}] = useCurrentUser();\r\n\r\n  const { series } = useSeriesItem(Object.keys(item).length != 0 ? item.seriesID : \"\");\r\n  const { edition } = useEditionItem(Object.keys(item).length != 0 ? item.editionID : \"\");\r\n  const init = useInitialized(user.addr);\r\n  const [buyingState, setBuyingState] = useState(0);  // 0: Normal, 1: Buying, 2: Error\r\n\r\n  const handlePurchase = (e) => {\r\n    e.preventDefault();\r\n\r\n    purchaseHandyItem({setID: id, ownerAddress: process.env.REACT_APP_CONTRACT_HANDY_ITEMS}, {\r\n      onStart() {\r\n        setBuyingState(1);\r\n      },\r\n      async onSuccess() {\r\n        setBuyingState(0);\r\n        toast.success(\"Successfully purchased!\");\r\n      },\r\n      async onComplete() {\r\n        reload();\r\n      },\r\n      async onError(error) {\r\n        setBuyingState(2);\r\n        toast.error(\"Unexpected error occured! \\n\" + error);\r\n        console.log(error);\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleLogin = (e) => {\r\n    logIn();\r\n  }\r\n\r\n  const handleInitializeWallet = (e) => {\r\n    e.preventDefault();\r\n\r\n    init.initialize(user.addr);\r\n  }\r\n\r\n  return (Object.keys(item).length != 0) ? (\r\n    <div>\r\n      <Navbar />\r\n    <div className=\"f3-store-padding\">\r\n      <div>\r\n        <h1 style={{margin: \"10px 0px\"}}>NFT Storefront</h1>\r\n        <div className=\"f3-store-hline\"></div>\r\n      </div>\r\n      <div className=\"f3-store-padding\">\r\n        <div>\r\n          <h2 className=\"f3-store-h2\">SportsCast - {series.name} {edition.name} Edition</h2>\r\n        </div>\r\n        <div>\r\n          <img\r\n            width=\"200px\"\r\n            height=\"250px\"\r\n            src={item.metadata[\"thumb_image\"]}\r\n          />\r\n          <p>{item.metadata[\"description\"]}</p>\r\n          <p>Player: {item.metadata[\"name\"]}</p>\r\n          <p>Edition: {edition.name}</p>\r\n          <p>Available: {item.quantity - item.numberMinted}</p>\r\n          <p>Price: ${item.price}</p>\r\n        </div>\r\n        {\r\n          loggedIn != true ? (\r\n            <button onClick={handleLogin}>Connect Wallet</button>\r\n          ) : (\r\n            init.isInitialized == true ? (\r\n              <button onClick={handlePurchase} disabled={buyingState == 1}>\r\n                { buyingState == 1 && \r\n                    <Loader type=\"Oval\" color=\"#1f1f1f\" height={20} width={20} className=\"f3-inline\" /> }\r\n                Purchase\r\n              </button>\r\n            ) : (\r\n              <button onClick={handleInitializeWallet}>Initialize Wallet</button>\r\n            )\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n    </div>\r\n  ) : (\r\n    <div><Navbar /></div>\r\n  )\r\n}\r\n\r\nexport function WrappedPage(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Page {...props} />\r\n    </Suspense>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { getEditionItem } from \"../flow/sc.get-edition-item\";\r\n\r\nexport function useEditionItem(id) {\r\n  const [item, setItem] = useState({});\r\n\r\n  useEffect(async () => {\r\n    const edition = await getEditionItem(id);\r\n\r\n    console.log(edition);\r\n\r\n    for (const prop in edition)\r\n      console.log(edition[prop]);\r\n\r\n      setItem(edition);\r\n  }, [id]);\r\n\r\n  return {\r\n    edition: item\r\n  }\r\n}","import { Suspense } from \"react\";\r\nimport { useAccountItem } from \"../../hooks/use-account-item.hook\";\r\nimport { useAccountItems } from \"../../hooks/use-account-items.hook\";\r\nimport { useCurrentUser } from \"../../hooks/use-current-user.hook\";\r\nimport { Page as Navbar} from \"../navbar\"\r\n\r\nexport function Item({addr, id}) {\r\n  const item = useAccountItem(addr, id);\r\n\r\n  console.log(item);\r\n\r\n  const getVideoPath = (ename) => {\r\n    var path = \"https://s3.us-west-2.amazonaws.com/nft.ikonicc.ca/\";\r\n    https://s3.us-west-2.amazonaws.com/nft.ikonicc.ca/ZebNoland_Partx_Gold_Edition.mp4\r\n    if(ename == \"Gold\")\r\n      path += \"ZebNoland_Partx_Gold_Edition.mp4\";\r\n    else if(ename == \"Prism\")\r\n      path += \"ZebNoland_Part4_Prism_Edition.mp4\";\r\n    else if(ename == \"Orange\")\r\n      path += \"ZebNoland_Part3_Orange_Edition.mp4\";\r\n    else if(ename == \"Pink\")\r\n      path += \"ZebNoland_Part2_Pink_Edition.mp4\";\r\n    else if(ename == \"White\")\r\n      path += \"ZebNoland_Part1_White_Edition.mp4\";\r\n  }\r\n\r\n  return (\r\n      item.item ? (\r\n        <div className=\"f3-mywallet-container\">\r\n          <div className=\"f3-center\">\r\n            <div>{item.set.metadata[\"name\"]}</div>\r\n            <img src={item.set.metadata[\"thumb_image\"]} />\r\n            <div>{item.edition.name} Edition</div>\r\n            <div>#{item.item.serialID} / {item.set.quantity}</div>\r\n          </div>\r\n          <div>\r\n            {/*src={process.env.REACT_APP_API_URL + \"/video/\" + item.edition.name + \".mp4\"}*/}\r\n            {/*\"http://nft.ikonicc.ca\" + \"/video/\" + item.edition.name + \".mp4\"*/}\r\n            <video\r\n              width=\"auto\"\r\n              height=\"150px\"\r\n              src={ getVideoPath(item.edition.name) }\r\n              controls=\"controls\"\r\n            />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div></div>\r\n      )\r\n  )\r\n}\r\n\r\nexport function Page() {\r\n  const [user, loggedIn, {signUp, logIn}] = useCurrentUser();\r\n  const { ids } = useAccountItems(user.addr)\r\n\r\n  console.log(ids);\r\n\r\n  const handleLogin = (e) => {\r\n    logIn();\r\n  }\r\n\r\n  return (\r\n    <div className=\"f3-store-padding\">\r\n      <div>\r\n        <h1 style={{margin: \"10px 0px\"}}>NFT Storefront</h1>\r\n        <div className=\"f3-store-hline\"></div>\r\n      </div>\r\n      <div className=\"f3-store-padding\">\r\n        <div>\r\n          <h2 className=\"f3-store-h2\">My Wallet NFTs</h2>\r\n        </div>\r\n        <div>\r\n          { ids.map(item => <Item addr={user.addr} id={item} />) }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function WrappedPage(props) {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Navbar />\r\n      <Page {...props} />\r\n    </Suspense>\r\n  )\r\n}","\r\nexport function Page() {\r\n  return <div>Page Not Found</div>\r\n}\r\n","import React, { Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport {RecoilRoot} from \"recoil\"\nimport reportWebVitals from './reportWebVitals'\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\"\nimport { ToastContainer, toast } from 'react-toast'\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport './index.css';\n\nimport {Page as MintNFT2} from \"./pages/mint/mintnft2\"\n\nimport {Page as Root} from \"./pages/root.page\"\nimport {Page as Publish} from \"./pages/publish.page\"\nimport {Page as List} from \"./pages/list.page\"\nimport {Page as Market} from \"./pages/market.page\"\nimport {Page as MintPanel} from \"./pages/mint\"\nimport {Page as Assets} from \"./pages/mint/assets\"\nimport {Page as MintNFT} from \"./pages/mint/mintnft\"\nimport {Page as Collections} from \"./pages/mint/collections\"\nimport {Page as Series} from \"./pages/storefront/series\"\nimport {Page as Edition} from \"./pages/storefront/edition\"\nimport {Page as InitAcc} from \"./pages/storefront/initacc\"\nimport {Page as Navbar} from \"./pages/navbar\"\nimport {WrappedPage as Purchase} from \"./pages/storefront/purchase\"\nimport {WrappedPage as MyWallet} from './pages/storefront/mywallet'\nimport {Page as NotFound} from \"./pages/not-found.page\"\n\nimport * as fcl from \"@onflow/fcl\"\nimport * as t from \"@onflow/types\"\n\nwindow.fcl = fcl\nwindow.t = t\n\nfcl\n  .config()\n  .put(\"faucet\", process.env.REACT_APP_FAUCET_ADDRESS)\n  .put(\"accessNode.api\", process.env.REACT_APP_FLOW_ACCESS_API_URL)\n  .put(\"challenge.handshake\", process.env.REACT_APP_WALLET_DISCOVERY)\n  .put(\"0xFungibleToken\", process.env.REACT_APP_CONTRACT_FUNGIBLE_TOKEN)\n  .put(\"0xNonFungibleToken\", process.env.REACT_APP_CONTRACT_NON_FUNGIBLE_TOKEN)\n  .put(\"0xNFTStorefront\", process.env.REACT_APP_CONTRACT_NFT_STOREFRONT)\n  .put(\"0xHandyItems\", process.env.REACT_APP_CONTRACT_HANDY_ITEMS)\n  .put(\"0xFlowToken\", process.env.REACT_APP_CONTRACT_FLOW_TOKEN)\n  .put(\"0xFUSD\", process.env.REACT_APP_CONTRACT_FUSD_TOKEN)\n  .put(\"decoder.Type\", val => val.staticType)\n\n  console.log(process.env)\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <Router>\n        <Switch>\n\n          <Route exact path=\"/mintpanel/mintnft2\">\n            <MintNFT2 />\n          </Route>\n\n          <Route exact path=\"/publish\">\n            <Suspense fallback={null}>\n              <Publish />\n            </Suspense>\n          </Route>\n          <Route exact path=\"/list\">\n            <List />\n          </Route>\n          <Route exact path=\"/market\">\n            <Market />\n          </Route>\n          <Route exact path=\"/mintpanel\">\n            <Collections />\n          </Route>\n          <Route exact path=\"/mintpanel/assets\">\n            <Assets />\n          </Route>\n          <Route exact path=\"/mintpanel/mintnft\">\n            <MintNFT />\n          </Route>\n          <Route exact path=\"/mintpanel/collections\">\n            <Collections />\n          </Route>\n          <Route exact path=\"/mywallet\">\n            <MyWallet />\n          </Route>\n          <Route exact path=\"/init\">\n            <InitAcc />\n          </Route>\n          <Route exact path=\"/series/:id\">\n            <Suspense fallback={null}>\n              <Navbar />\n              <Edition />\n            </Suspense>\n          </Route>\n          <Route path=\"/editions/:id\">\n            <Purchase />\n          </Route>\n          <Route exact path=\"/\">\n            <Suspense fallback={null}>\n              <Navbar />\n              <Series />\n            </Suspense>\n          </Route>\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch>\n      </Router>\n      <ToastContainer position=\"top-right\" delay=\"5000\" />\n    </RecoilRoot>\n  </React.StrictMode>\n  ,\n  document.getElementById(\"root\")\n)\n\nreportWebVitals()"],"sourceRoot":""}